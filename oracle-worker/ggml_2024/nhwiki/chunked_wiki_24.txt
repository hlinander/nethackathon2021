An '''amulet of ESP''' grants [[extrinsic telepathy]] when worn, which will show all monsters with minds within a 10x10 grid, and all such monsters on the level when [[blindness|blind]].

If you polymorph into a [[metallivore]] and eat the amulet, it will instead grant [[intrinsic telepathy]]. This takes effect only when you are [[blind]], and shows all monsters with minds on the whole level.

ESP is an abbreviation for Extra-Sensory Perception; that is, perception not gained through the five traditionally-attested senses: hearing, feeling, sight, taste and smell.

==Identification==

This amulet can be identified easily with the [[far look]] command. If you notice a monster that you wouldn't ordinarily be able to see (e.g. on the other side of a wall), far look will tell you whether you are seeing it because of telepathy. If so, and you have no other source of extrinsic telepathy, it must be coming from the amulet.

==Generation==

With a chance of an amulet of ESP being generated at 17.5%, this is the most commonly generated amulet, and one of the best: telepathy while non-blind provides excellent early warning of approaching monsters.

==See also==

* [[The Eye of the Aethiopica]], an artifact amulet of ESP
[[Category:Amulets|ESP]]
{{nethack-360}}}
&&%s&& %s Amulet of reflection {144979 2022-03-20T09:38:34Z {4001279 Umbire the Phantom} /* EvilHack */ {{amulet|name=amulet of reflection}}

An '''amulet of reflection''' is an [[amulet]] that appears in ''[[NetHack]]''.

==Generation==
A randomly generated amulet has a 7.5% chance to be an amulet of reflection - it appears uncursed 90% of the time, blessed 5% of the time, and cursed for the remaining 5%.{{refsrc|src/mkobj.c|967|version=NetHack 3.6.6}}

The [[Sokoban]] prize has a 50% chance to be a normally-generated amulet of reflection.{{refsrc|dat/sokoban.des|530|version=NetHack 3.6.6}}{{refsrc|dat/sokoban.des|631|version=NetHack 3.6.6}}

Upon reaching the [[Astral Plane]], if you are not generating [[conflict]], the [[tame]] [[Minion|guardian]] [[Angel]] created next to you will have an amulet of reflection if it does not generate with a [[shield of reflection]] (i.e., with a 75% chance).{{refsrc|src/makemon.c|326|version=NetHack 3.6.6}}{{refsrc|src/minion.c|537|version=NetHack 3.6.6}}

{{upcoming|NetHack 3.7.0|Sokoban floor 4a has a 25% chance for an amulet of reflection, and 4b has a 75% chance.}}

==Effects==
When worn, the amulet conveys extrinsic [[reflection]] - reflecting a [[ray]] or passive [[gaze]] while wearing the amulet without any other source of reflection will [[auto-identify]] it. Some monsters can also wear this amulet, and it is the only other amulet they will actively wear besides an [[amulet of life saving]].

[[Eating jewelry|Eating]] an amulet of reflection will have no effect.

{{upcoming|NetHack 3.7.0|Monsters may now wear the [[amulet of guarding]] as well, making this amulet slightly more difficult to identify.}}

==Strategy==
The amulet of reflection is a valuable item for any player, and is a powerful defense against [[wand]]-wielding monsters and [[breath]] attacks. As such, it naturally factors into several [[ascension kit]]s - compared to other sources, it does not severely penalize [[spellcasting]] like a shield of reflection, but is not as high-priority a [[wish]] as [[silver dragon scale mail]]. The amulet of reflection is sometimes replaced upon procuring another source of reflection in order to open the amulet slot for life saving or {{of|amulet|magical breathing}}.

Players keeping the amulet of reflection usually combine it with [[gray dragon scale mail]] and any magical cloak that is not a [[cloak of magic resistance]] - e.g., they may choose to further augment defense via a [[cloak of protection]], and some casters using this combination may supplement their spellcasting with a [[robe]]. The amulet is also a primary source of reflection for [[Monk]]s avoiding body armor and shields, as well as [[conduct]] players - [[vegetarian]]s and vegans covering resistances, [[nudist]] and/or [[wishless]] players, etc. Sokoban's potential for an amulet of reflection makes it an enticing early-game destination once a player has established an adequate starting kit, especially if they fit any of the above play styles.

Informally identifying an amulet of reflection is somewhat tricky - in practice, confirmation usually comes in the form of a typically-undesirable ray hitting you. A [[wand of magic missile]] is the least harmful wand to have used against you; you may also prefer to zap it at a wall and see if it hits you on the rebound. One risky potential means of testing for an amulet of reflection is using a [[floating eye]], where you are positioned in a manner that no other monsters can get to you if you are paralyzed - if you attack the eye in melee and its passive gaze is reflected by the amulet, it will auto-identify.

Beware of monsters possibly wearing the amulet, especially around the Sokoban [[zoo]] - an empty prize closet means one of the monsters has grabbed the amulet, and you should ideally avoid reflectable wands and spells if possible until you track it down.

==History==
The amulet of reflection first appears in [[NetHack 3.0.0]].

From version 3.0.0 to [[NetHack 3.4.3]], [[Sokoban Level 4b]] was the only final Sokoban map that would contain an amulet of reflection, effectively making it a 50/50 - some variants based on these older versions retain this. As of [[NetHack 3.6.0]], both this and the [[Sokoban Level 4a|other final map]] of Sokoban have a 50% chance to generate either the amulet or an uncursed [[bag of holding]] as the prize.

Versions prior to 3.6.0 also allowed [[ki-rin]] to wear amulets, with the amulet of reflection being a common choice for those with tamed ki-rin.

==Messages==
{{message|But it reflects from your medallion!|A ray was reflected by an amulet of reflection; this will auto-identify it.}}
{{message|But it reflects from <foo>'s amulet!|A ray was reflected from an amulet of reflection worn by a monster.}}
{{message|The floating eye's gaze is reflected by your medallion.|You attacked a floating eye in melee, and its passive gaze was reflected; this will auto-identify the amulet and prevent you from being paralyzed.}}

==Variants==
===SLASH'EM===
In [[SLASH'EM]], an amulet of reflection is the Sokoban prize for Level 4b and [[Sokoban Level 4d|Level 4d]]. The Sokoban amulet is also made more valuable by the ability to [[upgrade]] a [[sack]] or [[oilskin sack]] into a bag of holding.

===UnNetHack===
In [[UnNetHack]], [[Sokoban (UnNetHack)|Sokoban]] has the same choice of prizes for each final level of the branch, and the prize amulet has a {{frac|3}} to be an amulet of reflection. The presence of [[chromatic dragon scale mail]] can also free up an amulet slot used by this item for replacement with another, e.g. an [[amulet of flying]].

===NetHack Fourk===
In [[NetHack Fourk]], [[Sokoban (NetHack Fourk)|Sokoban]] has an amulet of reflection as the prize for the floors [[Upon Further Reflection]], [[Collecting Marbles]], and [[Back At Ya]] if you do not already possess one.

===NetHack brass===
In [[NetHack brass]], the Sokoban prize amulet is always an amulet of reflection, with the other two choices being a cloak of magic resistance and a bag of holding. Non-[[artifact]] items that provide [[magic resistance]] or [[reflection]] can wear out from repeated resistance or reflection, making duplicate reflection sources a good idea to choose for the latter case.

===EvilHack===
In [[EvilHack]], the Sokoban zoo closets have a prize behind each door, with one possible prize type being an amulet - the amulet has a 50% chance to be an amulet of reflection. Like other sources of reflection in EvilHack, the amulet also no longer fully protects you from the effects of rays while reflecting them, but still significantly reduces their impact.

===SpliceHack===
In [[SpliceHack]], you can create a shield of reflection at a [[furnace]] using an amulet of reflection and a [[large shield]].

===dNetHack===
In [[dNetHack]], [[Map inclusion (dNethack)#Minor spire|minor spire map inclusion]] can generate an amulet of reflection alongside a robe and one of the following sets of items:

* A [[silver]] [[khakkara]]
* A [[mithril]] [[plate mail]], a silver wand, and a mithril [[buckler]]; this can only occur if [[Soulmirror]] has already been generated

==References==
<references/>
{{nethack-366}}
[[Category:Amulets|Reflection]]}
&&%s&& %s Luck {141812 2021-07-24T23:57:07Z {4001483 Cathartes} capitalize in-game "Luck" according to [[NetHackWiki:Style guide#Capitalization]] In addition to the "soft" luck inherent to any game that utilizes [[RNG|randomness]], ''[[NetHack]]'' gives [[you]] an explicit '''Luck''' statistic that affects many aspects of the game.

== Value of Luck ==
Luck is the sum of two components: regular Luck and bonus Luck. Regular Luck ranges from &minus;10 to +10, changes with events in the game, and may slowly return to a baseline level (see {{sa|Luck timeout|sectionsign=1}} below). Bonus Luck, on the other hand, may be &minus;3, 0, or +3, and it is determined by what kind of [[luckstone]] (and certain [[Quest artifact|artifacts]]) you are carrying. Thus the highest possible total Luck is 13, and the lowest possible is &minus;13. A positive value indicates a measure of "good luck" and a negative value indicates "bad luck". However, only a rough idea of your total Luck is given in the [[enlightenment]] list; the meaning of the messages is as follows:
{|class="prettytable"
!Total Luck
!Message
|-
|&le; &minus;10
|extremely unlucky
|-
| &minus;9 to &minus;5
|very unlucky
|-
| &minus;4 to &minus;1
|unlucky
|-
|0
|Luck is zero (only displayed in [[wizard mode]])
|-
|1 to 4
|lucky
|-
|5 to 9
|very lucky
|-
|&ge; 10
|extremely lucky
|}

==Luck timeout==
Luck timeout refers to your regular Luck slowly returning to zero over time, which it will do under normal circumstances. If your Luck is timing out, it is done at a rate of one point per 600 turns (300 if you are carrying the [[Amulet of Yendor]], or if your [[god]] is [[anger|angry]]).{{refsrc|timeout.c|170}} This is counted from the beginning of the game; for example, if you lose one point of Luck on turn 590, you will regain it on turn 600, not on turn 1190.

The baseline level to which it may return is +1 if you most recently started or restored the game during a [[Time#Moon phase and date|full moon]], &minus;1 if started or restored on Friday the 13th, and 0 if neither or both. A [[Time#Moon phase and date|new moon]] does not affect your Luck at all. These changes in the baseline level do not affect the maximum and minimum values.

{{upcoming|NetHack 3.7.0|Killing your [[Quest]] leader sets your baseline Luck to -4, adjusted by date and moon phase as above.}}

Whether your regular Luck will return to its baseline level is controlled by luckstones and certain [[quest artifact]]s. The effect of these "Luck items" depends on the number in your main inventory that are [[BUC|blessed, uncursed, and cursed]] (see table below).

{|class="prettytable"
!Number of Luck items
!Bad Luck
!Good Luck
|-
|None
|Times out
|Times out
|-
|More cursed than blessed
|No timeout
|Times out
|-
|Equal cursed and blessed (or all uncursed)
|No timeout
|No timeout
|-
|More blessed than cursed
|Times out
|No timeout
|}

Note that as a special case (which is possibly a [[bug]]), the game will consider you to own no Luck items if both the following conditions are true:

# You have no luck''stone''s, specifically;
# The number of cursed Luck items (other than stones) equals the number of noncursed Luck items.

When this case applies, the effect is identical to owning no Luck items: no bonus Luck, and Luck times out regardless of whether the total is positive or negative.

==Bonus Luck==

Bonus Luck works in a similar way to the above table, although both blessed and uncursed Luck items (referred to as "non-cursed") have the same effect.

{|class="prettytable"
!Number of Luck items
!Bonus Luck
|-
| More cursed than non-cursed
| &minus;3 "reduced Luck"
|-
| Equal cursed and non-cursed
| +3 "extra Luck"
|-
| More non-cursed than cursed
| +3 "extra Luck"
|}

The same caveats regarding having the same number of cursed as noncursed Luck items and no luckstones apply here as to Luck timeout.

==Ways to change your Luck==
Regular Luck is adjusted by each of the events described below, and by the timeout described above. It cannot be reduced below &minus;10 or increased above +10. 

{|class="prettytable"
!Baseline Luck adjustment
!Event
|-
| +1
|Starting or restoring a game during a full moon.
|-
|0
|Starting or restoring a game during any time when it is neither full moon nor Friday the 13th, or when it is ''both'' full moon and Friday the 13th (which cancel each other out).
|-
| &minus;1
|Starting or restoring a game on Friday the 13th.
|}
{|class="prettytable striped"
!Regular Luck adjustment
!Event
|-
| &minus;2
|Break a [[mirror]]. (Other glass items have no effect on Luck.)
|-
| &minus;''n''
|Breaking ''n'' [[egg]]s laid by you (at worst &minus;5).
|-
| +1
|Sitting on a [[throne]] (sometimes).
|-
|0
|[[Throw]]ing a worthless [[gem]] at a [[unicorn]].{{reffunc|dothrow.c|gem_accept}}
|-
| &minus;1 to +1 (average 0)
|Throwing unknown valuable gem at [[cross-aligned]] unicorn.{{reffunc|dothrow.c|gem_accept}}
|-
| &minus;3 to +3 (average 0)
|Throwing known valuable gem at [[cross-aligned]] unicorn.{{reffunc|dothrow.c|gem_accept}}
|-
| +1
|Throwing unknown valuable gem at [[co-aligned]] unicorn.{{reffunc|dothrow.c|gem_accept}}
|-
| +2
|Throwing named valuable gem at co-aligned unicorn.{{reffunc|dothrow.c|gem_accept}}
|-
| +5
|Throwing identified valuable gem at co-aligned unicorn.{{reffunc|dothrow.c|gem_accept}}
|-
| &minus;1
|Hitting a blind [[floating eye]] (1 in 500 chance).
|-
| &minus;1
|[[Jumping]] on a [[Sokoban]] level before solving the puzzle.
|-
| &minus;1
|Breaking a boulder in Sokoban before solving the puzzle.
|-
| &minus;1
|Casting {{spell of|stone to flesh}} on a Sokoban boulder before solving the puzzle.
|-
| &minus;1
|[[Polymorphing]] a Sokoban boulder before solving the puzzle.
|-
| &minus;1
|Reading a [[scroll of earth]] in Sokoban before solving the puzzle.
|-
| &minus;1
|Being pulled by a thrown [[heavy iron ball]] in Sokoban before solving the puzzle.
|-
| &minus;1
|Hurtling through the air in Sokoban by throwing something while levitating before solving the puzzle.
|-
| &minus;1
|Squeezing past a boulder in Sokoban (or walking over one when polymorphed into a [[giant]]) before solving the puzzle.
|-
| &minus;1
|Killing a [[tame]] monster.
|-
| &minus;1
|Killing a [[peaceful]] monster (sometimes). See note below.
|-
| &minus;2
|Killing a peaceful human when you are not [[chaotic]]. ("You [[murder]]er!")
|-
| &minus;5
|Killing a co-aligned unicorn.
|-
| &minus;5 to &minus;2
|[[Cannibalism]] (eating your own species), unless an orc or a caveman.
|-
|Set to 0
|[[Praying]] with negative regular Luck (sometimes: "golden glow" boon).
|-
| &minus;3
|Praying on a cross-aligned [[altar]].
|-
| &minus;3
|Praying before your prayer timeout has expired.
|-
| &minus;5
|A [[sacrifice]] (not your own race) on [[Moloch]]'s altars in [[Gehennom]].
|-
| &minus;3
|Being converted by trying to convert an altar.
|-
| &minus;1
|Unsuccessfully trying to convert an altar, if you were not converted.
|-
| +1
|Successfully converting an altar.
|-
| &minus;1
|Sacrificing at another god's altar.
|-
| &minus;1
|Kicking another god's altar ("Thou shalt pay, infidel!")
|-
| &minus;1
|Trying to engrave something on another god's altar (also gives "Thou shalt pay, infidel!")
|-
| +2
|Sacrificing your own race on your own chaotic altar.
|-
| &minus;2
|Sacrificing your own race on Moloch's altar.
|-
| &minus;5
|Sacrificing your own race when you aren't chaotic.
|-
| &minus;1
|Sacrificing an unidentified [[cheap plastic imitation of the Amulet of Yendor]].
|-
| &minus;3
|Sacrificing an identified fake Amulet of Yendor.
|-
| +1
|Sacrificing and feeling that your god is "slightly mollified" when your Luck is negative.
|-
|Set to 0
|Sacrificing and feeling that your god is "mollified" when your Luck is negative.
|-
| +1
|Sacrificing and having a "hopeful feeling" when your Luck is negative.
|-
|Set to 0
|Sacrificing and having a "feeling of reconciliation" when your Luck is negative.
|-
|0 to +5
|Sacrificing while your god is pleased.
|}

{{upcoming|NetHack 3.7.0|Killing your Quest leader gives -20 Luck, effectively setting it to -10 before bonus Luck.}}

Prior to [[Nethack 3.6.0]], any Luck penalty associated with Sokoban would occur even after solving the puzzle on that level.

Note about Luck penalty for killing peaceful monsters, from [http://www.statslab.cam.ac.uk/~eva/nethack/]:

<blockquote>If you manage to kill a peaceful monster without angering it, you have a 50% chance of losing one point of Luck. This is in addition to the Luck penalty for murder described above and the penalty of -5 Luck for killing a unicorn of your own alignment. However, simply killing a peaceful monster with one whack from a melee weapon will anger it before it dies, avoiding this penalty. Most wands and spells will also anger a monster even if they kill it in one zap, but "beam" attacks such as striking or polymorph have a chance of killing without angering, and incurring the additional penalty.</blockquote>

A [[drawbridge]] can also kill a peaceful without angering it.

==Luck in-game effects==
:''For details about the effect of Luck on event probabilities, see [[rnl]].''
Luck has a part in:
* Making a monster [[peaceful]] by [[untrap]]ping it
* Making a (too heavy to lift) monster peaceful by trying to untrap it (''"<monster> thinks it was nice of you to try."'')
* Getting an [[alignment record|alignment bonus]] for untrapping a monster
* Accidentally setting off a [[landmine]] or [[beartrap]] that you are trying to set
* Having monsters get mad when they are trapped by one of your [[trap]]s
* Setting off a trap you are trying to disarm
* Disarming a shooting trap
* Having chest traps fail to work (flame fizzles out, etc)
* Having chest traps that do work limited to relatively minor effects (especially if you have a unicorn horn)
* Getting any result from [[prayer]] (except upset gods—Luck < 0 causes this)
* Getting help from your god when [[alignment record|poorly aligned]]
* Getting a good result from prayer
* Getting the full range of bonus results from prayer
* Being confronted by a [[minion]] of the god of the [[altar]] you converted (or tried to)
* Causing the gods to be angry when praying in [[Gehennom]]
* Having angry gods being less fire and brimstone in their approach
* Hitting a monster
* Hitting a monster with a [[throw]]n object
* Hitting a monster with an [[iron ball]] when it jerks you back (?)
* Hitting something with a [[boomerang]] without it splintering
* Getting good things from [[throne]]s (Luck < 0 is sometimes bad, Luck > 0 is sometimes good)
* Destroying or getting [[gold]] and [[gem]]s from throne (Luck &ge; 5 maximizes number of gems)
* Getting good things from a magic [[fountain]] (natural Luck &ge; 0 required; natural Luck &ge; 4 desirable)
* Finding [[secret door]]s, hidden corridors, and traps
* Breaking open a door
* Opening a door
* Having your objects resist [[wet|water damage]]
* [[Blessed]] metal items resisting [[rust]]
* Having a [[wand of wishing]] succeed (Luck &ge; 0 guarantees this)
* Getting what you wish for (Luck &ge; 0 is pretty much essential)
* [[Magic marker|Writing]] a scroll you don't know
* Picking something off the floor by applying your [[whip]]
* Attempting a [[teleport]] spell in need (guaranteed if Luck &ge; 1)
* Getting at least 2 identifies from a blessed [[scroll of identify]] (Luck > 0)
* Having destroyed [[polymorph]]ed objects create [[golem]]s
* Having a split off [[long worm]] remain tame or peaceful

=== Natural Luck ===
'''Natural Luck''' refers to your Luck without taking the bonus (or penalty) Luck from carrying a luckstone into account. Most effects of Luck include this bonus, but a handful do not and directly check your Luck stat:
* Effects of a magic fountain
* Getting a wish from a throne
* Clones of tame or peaceful monsters remaining tame or peaceful
* Anything that checks your Luck for the purpose of changing it, e.g. praying with negative Luck to have it reset to 0.

== Strategy ==
{{main|Luckstone}}

You can't do any better than one [[BUC|blessed]] Luck item, so you might as well keep any others in a [[bag]] (where they have no effect) as spares in case your main one is cursed. Even an uncursed Luck item will be just as good except when your total Luck is negative (which is a rare situation, although not unheard of); and even when it ''is'' negative, the luckstone will harm you only on turns on which your Luck would time out (so you can just bag it for those turns). Cursed luckstones should never be kept in main inventory unless doing so is unavoidable.

== Variants ==

=== UnNetHack ===

[[UnNetHack]] adds an additional artifact, [[Luck Blade]], that affects Luck timeout. In UnNetHack, Luck items greatly slow down Luck timeout rather than stopping it completely. The modified Luck timeout depends on how far your Luck is from your base Luck: the higher or lower your Luck, the less the timeout is slowed. The timeout is calculated every turn, meaning gaining or losing a point of Luck could result in that point timing out immediately. This also means that Luck timeout is no longer necessarily at multiples of 600 turns if your natural Luck has ever been above or below your base Luck.

The modified Luck timeout is calculated by the following formula. Let ''l''<sub>natural</sub> be your current natural Luck, ''l''<sub>base</sub> be your base Luck, and ''a'' be 2 if you have the Amulet or your god is angry with you, or 1 otherwise.
<math>\tau = \text{max}(25000 - 200(l_\text{natural} - l_\text{base})^2, 600) / a</math> {{refsrc|src/timeout.c|226|version=UnNetHack 5.3.2}}

Additionally, [[Archaeologist]]s gain a +1 bonus to base Luck{{refsrc|src/timeout.c|193|version=UnNetHack 5.3.2}} from wearing a [[fedora]]. Putting on or taking off the fedora also changes your natural Luck accordingly.

{|class="prettytable" style="text-align: right"
!<nowiki>|</nowiki>''l''<sub>natural</sub> &minus; ''l''<sub>base</sub><nowiki>|</nowiki>
     ! Timeout !! Time to 0 !! Time from 9 !! Time from 10 !! Time from 11
|-
|  0 ||      ∞ ||         0 ||     168 000 ||      173 000 ||      173 800
|-
|  1 || 24 800 ||    24 800 ||     143 200 ||      148 200 ||      149 000
|-
|  2 || 24 200 ||    49 000 ||     119 000 ||      124 000 ||      124 800
|-
|  3 || 23 200 ||    72 200 ||      95 800 ||      100 800 ||      101 600
|-
|  4 || 21 800 ||    94 000 ||      74 000 ||       79 000 ||       79 800
|-
|  5 || 20 000 ||   114 000 ||      54 000 ||       59 000 ||       59 800
|-
|  6 || 17 800 ||   131 800 ||      36 200 ||       41 200 ||       42 000
|-
|  7 || 15 200 ||   147 000 ||      21 000 ||       26 000 ||       26 800
|-
|  8 || 12 200 ||   159 200 ||       8 800 ||       13 800 ||       14 600
|-
|  9 ||  8 800 ||   168 000 ||           0 ||        5 000 ||        5 800
|-
| 10 ||  5 000 ||   173 000 ||           0 ||            0 ||          800
|-
| 11 ||    800 ||   173 800 ||           0 ||            0 ||            0
|-
| 12 ||    600 ||   174 400 ||           0 ||            0 ||            0
|}

If you have the Amulet or your god is angry with you, halve all times in this table.

=== dNetHack ===

In [[dNetHack]], luckstones only slow down (600 instead of 300 turns) the loss of good Luck, even when blessed. They still give the usual permanent extra Luck, however.

==Encyclopedia entry==

{{encyclopedia|
"[...]  We'll succeed and you'll get all the fortune you came
seeking."
Jack shook his head dismally.  "You'll be better off without
me," he said.  "I'm nothing but bad luck.  It's because I'm
cursed.  A farmer I met on the way to the city cursed me.  He
said, 'I curse you Jack.  May you never know wealth.  May all
that you wish for be denied you.'"
"What a horrid man," said Eddie.  "Why did he curse you like
that?"
Jack shrugged [...].  "Bad grace, I suppose.  Just because I
shot off his ear and made him jump into a pit full of spikes."
|[ the hollow chocolate bunnies of the apocalypse,
     by Robert Rankin ]
}}


== References ==
<references/>

==External links==
* http://www.spod-central.org/~psmith/nh/gems-343.txt
* http://www.statslab.cam.ac.uk/~eva/nethack/index.html#peaceful
{{DOD}}
[[Category:Your character]]
{{nethack-366}}}
&&%s&& %s Shopkeeper {149052 2022-11-17T01:33:04Z {4001279 Umbire the Phantom} additional dialogue + refsrc, reorg variants, etc. {{monster
 |difficulty=15
 |level=12
 |experience=287
 |speed=18
 |AC=0
 |MR=50
 |align=0
 |frequency=0
 |genocidable=No
 |attacks=Weapon 4d4, Weapon 4d4
 |weight=1450
 |nutr=400
 |size=Medium
 |resistances=None
 |resistances conveyed=None
 |attributes={{attributes|A shopkeeper|humanoid=1|
 |nopoly=1|human=1|omnivore=1|peaceful=1|=
 |strong=1|collect=1|magic=1|infravisible=1}}
 |reference=[[monst.c#line2369]]
}}

A '''shopkeeper''' is a type of [[human]] [[monster]] that appears in ''[[NetHack]]''. They always appear tending to their [[shop]]s and handle all relevant transactions - any goods you [[pay]] for transfers [[gold]] directly into their inventory. In addition to managing sales and purchases, they also seek to prevent [[stealing from shops|shoplifting]], and are quite tough for low-level characters who commit the misfortune of angering them. 

Should a character [[die]] or #[[quit]] while inside a shop or on the same level as an angry shopkeeper, any possible [[bones|bones files]] will be generated with the player's [[grave]] empty&mdash;the possessions are all transported to the store and inherited by the shopkeeper, who must be pacified to safely search the loot. Killing a shopkeeper counts as [[murder]] for non-chaotic characters.

{{todo|More about the ESHK extended monster structure, which demonstrates the unique behavior of shopkeepers?}}

==Generation==
Shopkeepers are always peaceful and will be placed within a created shop - bones files are an exception in both cases. There is also the exception of the shops in [[Orcus Town]], which are always abandoned.

Shopkeepers [[Monster starting inventory|are generated with]] (30&nbsp;&times; 1d100&nbsp;+ 1000) zorkmids and a [[skeleton key]].{{refsrc|src/shknam.c|674|version=NetHack 3.6.6}}{{refsrc|src/makemon.c|674|version=NetHack 3.6.6}} They may also receive one each of the following items, which are given in the listed order with the number determined by a d4 roll:{{refsrc|src/makemon.c|673|version=NetHack 3.6.6}}

#a [[wand of striking]]
#a [[potion of healing]]
#a [[potion of extra healing]]
#a [[wand of magic missile]]

Jewelers (shopkeepers of ring stores) will additionally receive a [[touchstone]].{{refsrc|src/shknam.c|676|version=NetHack 3.6.6}}

===Shopkeeper names===
Shopkeepers can have various names that are tied to the types of stores they run - e.g., the names of hardware store shopkeepers in particular are anagrams of the names of the developers. If a shopkeeper name derives from a developer who only worked on certain platforms, that name will only appear on those platforms; some names available only on exotic platforms are excluded from the tools shopkeeper list below. If you have [[telepathy]], you can usually tell what type of items a shop sells by the name of its keeper - the only exceptions are Lucrezia and Dirk, which are "catch-all" names not tied to any specific shop type.{{refsrc|src/shknam.c|541|version=NetHack 3.6.6}}

The light shop in [[Minetown]] is always run by [[Izchak]], a shopkeeper with unique messages who is named for late DevTeam member [[Izchak Miller]].

{|class="prettytable"
! Shop type
! Possible shopkeeper names{{refsrc|src/shknam.c|21|version=NetHack 3.6.6}}
|-
| liquor emporium || Njezjin, Tsjernigof, Ossipewsk, Gorlowka, Gomel, Konosja, Weliki Oestjoeg, Syktywkar, Sablja, Narodnaja, Kyzyl, Walbrzych, Swidnica, Klodzko, Raciborz, Gliwice, Brzeg, Krnov, Hradec Kralove, Leuk, Brig, Brienz, Thun, Sarnen, Burglen, Elm, Flims, Vals, Schuls, Zum Loch
|-
| second-hand bookstore, rare books || Skibbereen, Kanturk, Rath Luirc, Ennistymon, Lahinch, Kinnegad, Lugnaquillia, Enniscorthy, Gweebarra, Kittamagh, Nenagh, Sneem, Ballingeary, Kilgarvan, Cahersiveen,Glenbeigh, Kilmihil, Kiltamagh, Droichead Atha, Inniscrone, Clonegal, Lisnaskea, Culdaff, Dunfanaghy, Inishbofin, Kesh
|-
| used armor dealership ||Demirci, Kalecik, Boyabai, Yildizeli, Gaziantep, Siirt, Akhalataki, Tirebolu, Aksaray, Ermenak, Iskenderun, Kadirli, Siverek, Pervari, Malasgirt, Bayburt, Ayancik, Zonguldak, Balya, Tefenni, Artvin, Kars, Makharadze, Malazgirt, Midyat, Birecik, Kirikkale, Alaca, Polatli, Nallihan
|-
| quality apparel and accessories ||Yr Wyddgrug, Trallwng, Mallwyd, Pontarfynach, Rhaeader, Llandrindod, Llanfair-ym-muallt, Y-Fenni, Maesteg, Rhydaman, Beddgelert, Curig, Llanrwst, Llanerchymedd, Caergybi, Nairn, Turriff, Inverurie, Braemar, Lochnagar, Kerloch, Beinn a Ghlo, Drumnadrochit, Morven, Uist, Storr, Sgurr na Ciche, Cannich, Gairloch, Kyleakin, Dunvegan
|-
| jewelers ||Feyfer, Flugi, Gheel, Havic, Haynin, Hoboken, Imbyze, Juyn, Kinsky, Massis, Matray, Moy, Olycan, Sadelin, Svaving, Tapper, Terwen, Wirix, Ypey, Rastegaisa, Varjag Njarga, Kautekeino, Abisko, Enontekis, Rovaniemi, Avasaksa, Haparanda, Lulea, Gellivare, Oeloe, Kajaani, Fauske
|-
| delicatessen ||Djasinga, Tjibarusa, Tjiwidej, Pengalengan, Bandjar, Parbalingga, Bojolali, Sarangan, Ngebel, Djombang, Ardjawinangun, Berbek, Papar, Baliga, Tjisolok, Siboga, Banjoewangi, Trenggalek, Karangkobar, Njalindoeng, Pasawahan, Pameunpeuk, Patjitan, Kediri, Pemboeang, Tringanoe, Makin, Tipor, Semai, Berhala, Tegal, Samoe
|-
| antique weapons outlet ||Voulgezac, Rouffiac, Lerignac, Touverac, Guizengeard, Melac, Neuvicq, Vanzac, Picq, Urignac, Corignac, Fleac, Lonzac, Vergt, Queyssac, Liorac, Echourgnac, Cazelon, Eypau, Carignan, Monbazillac, Jonzac, Pons, Jumilhac, Fenouilledes, Laguiolet, Saujon, Eymoutiers, Eygurande, Eauze, Labouheyre
|-
| hardware store ||Ymla, Eed-morra, Cubask, Nieb, Bnowr Falr, Sperc, Noskcirdneh, Yawolloh, Hyeghu, Niskal, Trahnil, Htargcm, Enrobwem, Kachzi Rellim, Regien, Donmyar, Yelpur, Nosnehpets, Stewe, Renrut, Senna Hut, Zlaw, Nosalnef, Rewuorb, Rellenk, Yad, Cire Htims, Y-crad, Nenilukah, Corsh, Aned, Dark Eery, Niknar, Lapu, Lechaim, Rebrol-nek, AlliWar Wickson, Oguhmk, Telloc Cyaj, Lexa, Niod, Nhoj-lee, Evad'kh, Ettaw-noj, Tsew-mot, Ydna-s, Yao-hang, Tonbar, Kivenhoug, Llardom
|-
| general store ||Hebiwerie, Possogroenoe, Asidonhopo, Manlobbi, Adjama, Pakka Pakka, Kabalebo, Wonotobo, Akalapi, Sipaliwini, Annootok, Upernavik, Angmagssalik, Aklavik, Inuvik, Tuktoyaktuk, Chicoutimi, Ouiatchouane, Chibougamau, Matagami, Kipawa, Kinojevis, Abitibi, Maganasipi, Akureyri, Kopasker, Budereyri, Akranes, Bordeyri, Holmavik
|-
| health food store ||Ga'er, Zhangmu, Rikaze, Jiangji, Changdu, Linzhi, Shigatse, Gyantse, Ganden, Tsurphu, Lhasa, Tsedong, Drepung, Azura, Blaze, Breanna, Breezy, Dharma, Feather, Jasmine, Luna, Melody, Moonjava, Petal, Rhiannon, Starla, Tranquilla, Windsong, Zennia, Zoe, Zora
|}

==Abilities and movement==
Shopkeepers have 18 speed, and will always keep within a few squares of the shop entrance.

Shopkeepers will move to block the entrance square (the square inside the shop that is directly in front of the door) and prevent you from entering if you are [[invisible]], have a [[pick-axe]] or [[dwarvish mattock]] in open inventory, and/or are currently [[riding]] on a steed. If you dismount, become visible, and/or remove the digging tool(s) from your open [[inventory]] (including placing it in a [[container]]), you will be allowed entry. Note that the door of the shop is not considered suitable for dropping your digging tools - this is to prevent characters with extra speed from entering on a free turn. Shopkeepers will also catch any tools you attempt to throw in.

While in a shop, the shopkeeper will also move to prevent you from leaving if you are mounted and/or invisible. If you manage to bring in a pick-axe or mattock inside a container and take it out, the shopkeeper will demand you put it away - this does not anger them, provided you do not dig through the walls or door with it, and you can continue shopping as normal.

Shopkeepers are capable of magically repairing any damage done to the shop door or walls. They will additionally remove most traps that are set within the shop, with the exception of [[pit]]s and [[web]]s - in practice, the latter does not occur unless you or a monster creates a trap within the shop (e.g. a [[hole]] from a [[wand of digging]]).

{{upcoming|NetHack 3.7.0|Shopkeepers will now remove pits and webs as well.}}

===Angering the shopkeeper===
You will anger the shopkeeper and turn them hostile with any of the following actions:

* Attacking them directly, including damage from a [[gas spore]] explosion that you caused, or zapping them with certain [[wand]]s (including the [[wand of teleportation]] and [[wand of speed monster]])
* Damaging the shop's door or walls while near them, and refusing to pay 400zm, or else digging through them from a distance (e.g. with a wand of digging).
* Attempting to leave with unpaid items or debts while they are watching - this includes making a [[hole]] in the shop floor if any items on that square or adjacent squares fall through

Stealing items will cause the shopkeeper to call the [[Keystone Kops]]; in [[Minetown]], this will also immediately anger the [[watch]]. If you try to leave through a hole within the shop while you have unpaid items or debts, the shopkeeper will try to [[Stealing from shops#Shopkeeper prevention|grab your pack]] as you fall if they can get adjacent.

===Pacifying shopkeepers===
Paying for stolen items will always pacify an angry shopkeeper, though there will be an additional price hike; in all other cases, you can use {{kbd|p}} to pay them 1000zm, which has a {{frac|2|3}} chance to pacify them.{{refsrc|src/shk.c|1414|version=NetHack 3.6.6}} In any case, you will need to be adjacent to the shopkeeper to pay them if you are both outside their shop; you can also throw the required gold at the shopkeeper. Stealing an item while the shopkeeper is already angry due to another offense, then paying for it, will make the shopkeeper "forget" about your previous offenses, and they will become calm and return to their shop as usual.

Pacifying a shopkeeper by paying for stolen goods will also pacify any watchmen on that floor and cause any Keystone Kops present to disappear.

==Strategy==
:See also: [[Stealing from shops]]
Shopkeepers have a base [[AC]] of 0, two decently-powerful weapon attacks, and may carry healing potions and dangerous offensive wands - as such, it is usually best to avoid angering shopkeepers lest you swiftly [[YASD|end up dead]]. With this in mind, there are various methods through which even low-level characters can kill or steal from them somewhat easily.

Incentives to kill a shopkeeper include the high amount of gold they are generated with - for [[chaotic]] [[Human (starting race)|human]] players, shopkeepers are also one of the few sources of [[human (monster attribute)|human]] [[corpse]]s in the early levels, which can automatically convert an [[altar]] when sacrificed. However, shopkeepers also provide other important utilities that usually warrant leaving them alive ''and'' make it prudent not to unintentionally anger them.

Additionally, note that the actions listed above only anger the shopkeeper when done by you - other monsters are not subjected to the same treatment.

===Identification===
{{main|Price identification}}
Shopkeepers give the prices of their wares within a shop, which can be used to informally [[identify]] items; they will also tell you the appearance of an object you have bought or sold if you are [[blind]]. For [[zen]] players, this means that shopkeepers are also one of the few means of identifying object appearances - a zen player should ideally have [[telepathy]] before shopping to avoid an untimely death.

===Combat===
If you have a source of [[invisibility]] and either [[magic resistance]] or [[reflection]], the shopkeeper will remain in front of the door as long as they can sense your presence - this leaves you free to use any choice of ranged attacks. Be aware that you might run out of projectiles or charges doing this; if you are using spells, make sure to have sufficient food, particularly if you are low-level or using {{spell of|force bolt}}.

If you lack invisibility for a ranged approach, you can also dig [[pits]] all around the shopkeeper, who won't move into them. This requires a container to smuggle a pick-axe inside the shop, and may additionally necessitate rebounding [[ray]]s off walls from outside the shop, since the shopkeeper will try to keep out of direct zapping range.

A non-cursed [[scroll of stinking cloud]] can be very effective if you can have the cloud cover most or all of the store, and can also close the door beforehand to prevent retaliation - cursed scrolls may not do enough damage to kill the shopkeeper. The shopkeeper will stand still as long as they can't see you, and will be forced to use up their healing potions before suffocating.

A [[wand of polymorph]] can be used to potentially [[polymorph]] a shopkeeper into a creature that is much weaker, and might also be unable to use wands and/or potions - of course, not only do shopkeepers have a [[Magic resistance (monster)|monster MR]] of 50, but the wand may also transform them into something even stronger. Additionally, shopkeepers cannot be tamed and will not respect [[Elbereth]], even while polymorphed into something that normally would. Polymorphed shopkeepers do not count as humans for murder penalties, making it a preferable method for lawful characters.

If you find a wand in a shop with a base price of 500 zorkmids, it is either a [[wand of death]] or a [[wand of wishing]] - both can be used to then kill the shopkeeper if you so desire, though beware of a ray that misses and/or rebounds. While a wand of wishing can be used to [[wish]] for a wand of death, ideally you should first wish for [[Scroll of charging|scrolls of charging]], or a [[magic marker]] if you have identified the scroll. [[Pacifist]]s may opt for a blessed figurine of an [[Archon]] or other powerful [[pet]] instead, which can dispose of the shopkeeper themselves.

{{upcoming|NetHack 3.7.0|Shopkeepers now have the ability to remove pits, rendering them impractical as a method to keep them pinned.}}

==History==
Shopkeepers have existed since Hack 1.21, a variant of [[Jay Fenlason's Hack]].

The standard shopkeeper behavior was developed early on when a student of [[David S. H. Rosenthal]] (co-worker of [[Andries Brouwer]]) demonstrated the need for shopkeepers to have a limited wallet and high strength - in an early version of [[Hack 1.0]], they exploited a [[wand of digging]] to steal items from shopkeepers and sell them back as many times as they liked. In [[Hack 1.0.3]], shopkeepers would begin taking exception to digging through the floors of their shop.

Izchak and his lighting shop in Minetown were introduced in [[NetHack 3.2.0]].

==Messages==
The shopkeeper will always greet you if they are present upon your entering their shop.

===Greetings===
''<Hello>'' is either ''Hello'' or ''Greetings'' - [[Knight]]s are greeted instead with ''Salutations'', [[Samurai]] with ''Irasshaimase'', [[Tourist]]s with ''Aloha'', and [[Valkyrie]]s with ''Velkommen''.{{refsrc|src/role.c|2140|version=NetHack 3.6.6}}

{{message|"<Hello>, <playername>! Welcome to <shkname>'s <shoptype>!"|You entered the shop for the first time.}}
{{message|"<Hello>, <playername>! Welcome again to <shkname>'s <shoptype>!"|You entered a shop that you have been in before.}}
{{message|"<Hello> <playername>! I was looking for <otherplayer>!"|This is a [[bones]] level, and the shopkeeper was upset with the player who died there.}}
{{message|<shkname> detects your presence. "Invisible customers are not welcome!"|You are invisible, and the shopkeeper blocks the doorway.}}
{{message|"Will you please leave your pick-axe(s)/mattock(s)/digging tools outside?"|You are carrying a pick-axe or dwarvish mattock, and the shopkeeper blocks the doorway. This also identifies broad picks as dwarvish mattocks.{{refsrc|src/shk.c|645|version=NetHack 3.6.6}}}}
{{message|"Will you please leave <your steed> outside?"|You are [[riding]], and the shopkeeper blocks the doorway.}}
{{message|<shkname> asks whether you've seen any untended shops recently.|You spoke to a shopkeeper that does not own any shop. One way to produce this message is to wish for a shopkeeper [[statue]] and then cast {{spell of|stone to flesh}} on it.{{refsrc|src/shk.c|4414|version=NetHack 3.6.6}}}}

===Shopping===
{{message|"For you, <honorific> [[gender|lady/sir]]/[[polymorph|creature]]; only <price> for this <object>."|You picked up an item and were told its price. ''<honorific>'' is either ''good'', ''honored'', ''most gracious'' or ''esteemed''; if you have [[Demigod|killed the Wizard of Yendor or performed the Invocation]], the shopkeeper may also refer to you as ''most renowned and sacred''.{{refsrc|src/shk.c|2729|version=NetHack 3.6.6}}}}
{{message|"Thank you for shopping in <shkname>'s <shoptype>!"|You just bought one or more items.}}
{{message|"<objectname>, price <price>, an excellent choice/a real bargain/finest quality!"|You #[[chat]]ted above a single object.}}
{{message|"Fine goods for sale: "|You #[[chat]]ted over multiple objects. The objects will be displayed in a list, with their individual price at the right.}}
{{message|<shkname> complains about the problem of shoplifting.|You chatted to the shopkeeper, and they had nothing else to talk about. [[Izchak]] has some [[#Izchak's lines|unique dialogue]] instead.}}
{{message|<shkname> complains that business is bad.|As above, but the shopkeeper has less than 50 gold.}}
{{message|<shkname> says that business is good.|As above, but the shopkeeper has more than 4000 gold.}}
{{message|"You sneaky cad/minx!  Get out of here with that pick!|You hid a pick-axe or mattock in a [[container]] and carried it into the shop, then took it out.}}
{{message|<shkname> says "You be careful with my <object>"|You wielded an unpaid object.}}
{{message|"Thank you for your contribution to restock this recently plundered shop."|You drop gold<!-- or other items? --> in a shop robbed by a previous player on a bones level, allowing you to exit the store.<!-- if sufficient gold was dropped?-->}}

===Izchak's lines===
{{message|Izchak says: 'These shopping malls give me a headache.'}}
{{message|Izchak says: 'Slow down.  Think clearly.'}}
{{message|Izchak says: 'You need to take things one at a time.'}}
{{message|Izchak says: 'I don't like poofy coffee... give me Columbian Supremo.'}}
{{message|Izchak says that getting the devteam's agreement on anything is difficult.}}
{{message|Izchak says that he has noticed those who serve their deity will prosper.}}
{{message|Izchak says: 'Don't try to steal from me - I have friends in high places!'}}
{{message|Izchak says: 'You may well need something from this shop in the future.'}}
{{message|Izchak comments about the Valley of the Dead as being a gateway.|You chatted to Izchak, and he had nothing else to talk about.}}

===Angry shopkeepers===
{{message|<shkname> mentions how much <he/she> dislikes non-paying customers.|You left a shop without paying. You can make payment by using {{kbd|p}} while adjacent to the shopkeeper, or throw the money to them.}}
{{message|<shkname> mentions how much <he/she> dislikes rude customers.|You attacked the shopkeeper or damaged the shop walls or doors. You can pay 1000 zorkmids for a {{frac|2|3}} chance of pacifying the shopkeeper.}}
{{message|"For you, scum; only <price> for this <object>."|You picked up an item for sale while the shopkeeper is still angry, and they charged you extra.}}
{{message|<shkname> is after your hide, not your money! You try to appease the angry <shkname> by giving <him/her> 1000 gold pieces.|You are attempting to pay off an angry shopkeeper that you did not steal from - this has a {{frac|2|3}} chance to succeed.{{refsrc|src/shk.c|1406|version=NetHack 3.6.6}}{{refsrc|src/shk.c|1414|version=NetHack 3.6.6}}}}
{{message|Morever, you <seem to> have no money.|As above, but you do not have any gold; the words "seem to" occur if any gold is stashed away in a container within your inventory.{{refsrc|src/shk.c|1408|version=NetHack 3.6.6}}}}
{{message|But <shkname> is as angry as ever.|Your payment failed to appease the shopkeeper, and they are still hostile.{{refsrc|src/shk.c|1423|version=NetHack 3.6.6}}}}
{{message|<shkname> calms down.<br>|The shopkeeper is peaceful again.}}
{{message|Satisfied, <shkname> suddenly disappears!|As above while outside the shop; the shopkeeper instantly teleports back to their shop, wherever it was.}}

===Post-mortem===
{{message|<shkname> gratefully inherits all your possessions.|You died in a shop while the shopkeeper is peaceful - nothing was stolen, and nothing was owed.{{refsrc|src/shk.c|825|version=NetHack 3.6.6}}}}
{{message|<shkname> (wakes up and) (comes and) takes the <number> zorkmid(s) you owed him/her.|You owed the shopkeeper money but you were outside of the shop (you robbed the shopkeeper), but your [[purse]] contained enough [[gold piece]]s to compensate the shopkeeper. The shopkeeper takes the amount of the payment, but not anything else.}}
{{message|<shkname> (wakes up and) (comes and) takes all your possessions.|Either the shopkeeper was angry at you, or you owed the shopkeeper more money than you had in your purse, or you owed the shopkeeper money and ended your game inside of that shopkeeper's shop.}}
{{message|<shkname> (wakes up,) looks at your corpse, (shakes his/her head,) and disappears/sighs.|You die within sight of the shopkeeper but outside their shop, but they either had no reason to take your possessions (none of the above cases apply), or possibly another shopkeeper got there first. There is a 50% chance that the shopkeeper shakes their head. A shopkeeper "disappears" back to their shop, or "sighs" if they are already inside their own shop.}}

A shopkeeper "wakes up" if they were [[paralysis|paralyzed]] or [[sleep]]ing, and only comes over if they were more than two [[square]]s away from you.

==Variants==
Variants often tend to upgrade shopkeepers by granting them additional abilities or improving their stats and/or starting inventory.

{{todo|Cover the rest of the variants eventually.}}
===SLASH'EM===
In [[SLASH'EM]], shopkeepers also provide very useful [[Shopkeeper services|services]], although they come at a hefty cost and vary with the type of shop.

Shopkeepers are also far more formidable fighters - their base level has been raised to 24, their AC is lowered to &minus;6, and they are always generated with a [[shotgun]], shotgun shells, a [[wand of teleportation]], and a knife. This makes it quite difficult for pets to attack them - in particular, no domestic animal can be easily raised to a high enough level.

SLASH'EM also adds light and pet stores with the following potential shopkeeper names: Zarnesti, Slanic, Nehoiasu, Ludus, Sighisoara, Nisipitu, Razboieni, Bicaz, Dorohoi, Vaslui, Fetesti, Tirgu Neamt, Babadag, Zimnicea, Zlatna, Jiu, Eforie, Mamaia, Silistra, Tulovo, Panagyuritshte, Smolyan, Kirklareli, Pernik, Lom, Haskovo, Dobrinishte, Varvara, Oryahovo, Troyan, Lovech, Sliven.<!--Possibly sort these for store type and name?- Umbire-->

SLASH'EM additionally includes a special shopkeeper known as the black marketeer - the only one present in the game is the incredibly powerful [[One-eyed Sam (SLASH'EM)|One-eyed Sam]], who tends to the floor-wide [[Black market (SLASH'EM)|black market]] hidden behind a [[magic portal]].

===GruntHack===
In [[GruntHack]], shopkeepers can be [[racial monster|various monsters]] as opposed to only humans, and will additionally adjust their prices depending on the player's race.

===UnNetHack===
In [[UnNetHack]], the shopkeepers found in the [[Town]] branch are generated with much less gold than normal, as the town is rather poor.<ref>[https://github.com/UnNetHack/UnNetHack/blob/6.0.4-20220203-1f061e93b/src/shknam.c#L599 UnNetHack 6.0.4 shknam.c, line 599]</ref>

UnNetHack also has its own version of [[Black market (UnNetHack)|the black market]] with the same layout as the one in SLASH'EM - UnNetHack's [[One-eyed Sam (UnNetHack)|One-eyed Sam]] is a woman, and remains the sole shopkeeper there. UnNetHack also adds a second possible map that instead splits the market into several independent shops, with black marketeers acting as shopkeepers - here, One-eyed Sam is "simply" a peacekeeping NPC.

===SporkHack===
[[SporkHack]] also implements racial monster shopkeepers and racial price adjustments.

===SpliceHack===
Shopkeepers in [[SpliceHack]] are generated with a similar kit to SLASH'EM shopkeepers, including a shotgun and two stacks of shotgun shells.<ref>[https://github.com/NullCGT/SpliceHack/blob/Spl-R-1.1.0/src/makemon.c#L255 SpliceHack-Rewrite 1.1.0 makemon.c, line 255]</ref><ref>[https://github.com/NullCGT/SpliceHack/blob/Spl-R-1.1.0/src/makemon.c#L1036 SpliceHack-Rewrite 1.1.0 makemon.c, line 1036]</ref>

SpliceHack also has the [[Black market (SpliceHack)|black market]], run by One-Eyed Sam as in other variants. Additionally, there is a [[City of Brass]] with shops run by extraplanar merchants.

===EvilHack===
[[EvilHack]] derives its implementation of racial monster shopkeepers from SporkHack, and their messages will also change depending on whether or not there is typically enmity between their race and yours; otherwise, they retain their usual behavior.

Shopkeepers base stats are identical to those of vanilla ''NetHack'', though they are one monster level higher; each individual shopkeeper also has various abilities intrinsic to members of their race. They have a chance to generate with a [[quarterstaff]] or a [[broadsword]] as their weapon, as well as either an [[elven helm]] or regular [[helmet]] - the [[wand of sleep]] replaces the wand of striking in the list of additional items rolled by d4. This wand makes them all the more dangerous to anger, as being put to sleep will give them all the time they need to beat you to death.

==Encyclopedia entry==
{{encyclopedia-redirect|human (monster)|human}}

==References==
<references/>
{{nethack-366}}
[[Category:Monsters]]}
&&%s&& %s Intrinsic {134537 2020-06-26T00:25:18Z {4000693 Phol ende wodan} "Intrinsic" is often used to refer to any property, whether or not it's actually extrinsic. "Trinsic" hasn't really caught on. Redirect just to the main page and not a subsection. #REDIRECT [[Property]]}
&&%s&& %s Category:Intrinsics {10760 2006-09-20T14:33:37Z {458 Kernigh} Do not (by accident) categorise the redirect. #REDIRECT [[:Category:Properties]]}
&&%s&& %s Scroll of teleportation {146559 2022-07-04T08:25:56Z {4000251 Netzhack} /* Generation */ {{scroll|name=teleportation|cost=100|ink=10&ndash;19|muse=def}}

A '''scroll of teleportation''' can be used for [[teleport]]ing. It has a base cost of 100 [[zorkmid|zm]], and takes between 10 and 19 charges (inclusive) for a [[magic marker]] to write one.

== Generation ==

The scroll has a relative probability of 7% for generation. Monsters are likely to be generated with one, and when scrolls are found in an inaccessible [[closet]], at least one of them is guaranteed to be a scroll of teleportation.

== Identification ==

The scroll is most commonly identified by observing a monster use one when scared. If the teleportation fails, the scroll won't be auto-identified, but it produces the usual teleportation-failure messages "<monster> shudders for a moment" (teleported to the same level) and "<monster> seems very disoriented for a moment" (teleport blocked by the Amulet).{{refsrc|muse.c|619}} You can then [[name|type-name]] and formally identify it if you have the scroll in your inventory. You can also do the same with scrolls picked up in closets.

== Effects ==

{{main|Teleportation}}

If the scroll is blessed, the player will be asked whether they want to teleport. If the scroll is non-cursed, they will teleport to a location within the same level; if it is cursed, they will be [[level teleport|teleported to another level]]. If the player has [[teleport control]], they will always be asked where they want to be teleported. Otherwise, the teleport is uncontrolled and the new location will be chosen randomly. All "safe" places on the current level are equally likely; see [[level teleport]] for uncontrolled levelporting.

Reading a scroll of teleportation while confused, with [[teleport control]], allows a player to level teleport and pick the level; however, there is still a chance [[rnl|dependent on Luck]] that the teleport may be random.{{refsrc|teleport.c|606}} Having at least +11 Luck will result in success about 98% of the time.

The [[Amulet of Yendor]] has an effect on using scrolls of teleportation; when carrying it, there is a {{frac|3}} chance that nothing happens, producing the message "You feel disoriented for a moment." This always happens if you attempt a levelport while carrying the Amulet. Trying to teleport on a [[no-teleport level]] such as [[Sokoban]] will instead produce the message "A [[mysterious force]] prevents you from teleporting!" to indicate that all teleport attempts will fail.

{{upcoming|NetHack 3.7.0|A blessed scroll of teleportation now allows you to choose where to teleport to even without teleport control. You can still choose not to teleport by pressing {{kbd|Esc}} at the prompt.}}

== Variants ==
===SLASH'EM===
In [[SLASH'EM]], a blessed scroll of teleportation allows the player to choose where to teleport, even if they do not have [[teleport control]], by granting them the intrinsic for one whole turn. This allows use of blessed and cursed scrolls in sequence for controlled levelport if the player has high [[speed]].

===FIQHack===
In [[FIQHack]], blessed scrolls of teleportation will allow you to perform controlled teleportation, instead of asking if you want to teleport.

===xNetHack===
[[xNetHack]] also replaces the teleportation prompt for blessed scrolls of teleportation with the ability to grant a controlled teleport.

== See also ==
* [[Level teleport]]

== References ==

<references />

{{nethack-364}}
[[Category:Scrolls|Teleportation]]}
&&%s&& %s Zorkmid {147163 2022-08-03T11:47:21Z {4000251 Netzhack} /* Encyclopedia entry (for "gold") */ {{item|
  |name=gold piece
  |appearance=gold piece
  |tile=[[image:gold piece.png]]
  |cost=1
  |weight=0.01
  |color=yellow
  |symbol=$}}
{{for|the material|gold (material)}}
A '''zorkmid''' is a single unit of currency. A '''gold piece''', {{yellow|$}}, is the coinage used and has the value of 1 zorkmid. Gold is used to buy items from [[shop]]s, and is also used for other similar transactions, such as buying [[intrinsic protection]] and other benefits from the [[Minetown]] priest or consultations from the [[Oracle]]; dropping gold on any of the tiles of a shop will establish credit in that shop only.

Gold pieces are a special type of [[object]]: they have weight and take up an inventory slot when dropping items, but have no [[BUC]] status. The inventory slot they occupy is represented by their symbol is '''$'''; the abbreviations '''zm''' and '''zk''' are sometimes appended to a number as a currency symbol. When referred to while you are [[hallucinating]], they are referred to by [[hallucinatory currency|various other names]].

A gold piece weighs 0.01 [[aum]] (arbitrary units of measure); since these units have no formal name, it is common to consider 100 gold pieces the base unit of weight. All weight figures given in spoilers and on this wiki are in units of 100 gold pieces. 

==Generation==
Gold is an incredibly common sight in the Dungeons of Doom, and can be found on the floor, in containers and the inventory of other monsters; see the section below for more information regarding monster interactions with gold. [[Vault]]s containing gold are generated on some floors; [[Fort Ludios]] has a massive well-guarded repository of gold and can only be accessed through a vault portal. In addition, [[treasure zoo]]s and [[leprechaun hall]]s are generated with gold on most of their tiles, along with sleeping monsters on top of them.

Both the [[Healer]] and [[Tourist]] start with a significant amount of gold. [[Gold golem]]s will leave behind a pile of gold upon death.

===Gold and monsters===
Monsters that [[gold lover|love gold]] have a 1/5 chance of being generated with some in their inventory, and hostile gold lovers will often pick up any gold they come across; this includes anything mimicking the appearance of gold, such as a [[mimic]] or a player who has eaten a mimic corpse. The amount of gold given is determined by die roll: the number of dice rolled is the current [[dungeon level]], with the usual adjustments for players carrying the [[Amulet of Yendor|Amulet]] or in the [[endgame]]. If the monster already has some items in its inventory, a d5 is used; otherwise, the roll uses d10. A monster on dungeon level 10 with no items might get ''10d10'' zorkmids, whereas a monster on floor 20 with some items might get ''20d5'' zorkmids.

There are some exceptions to the above formula. [[Leprechaun]]s always receive gold, and always roll a number of d30 equal to the dungeon level; [[aligned priest]]s always get gold and receive 20–29 zorkmids. Another less exceptional case is an ordinary [[soldier]] - they will only be generated with gold 1/13 of the time.

==Strategy==
Acquiring a decent amount of gold is usually an early-game objective for most players in order to purchase items from shops. Accordingly, collecting gold becomes less urgent once the player has assembled a solid enough kit to progress further into the game and can reliably obtain more items by killing monsters, [[polypiling]], [[sacrifice]], etc. Some players may then opt to buy protection at a later point; gold is sometimes put to more unorthodox uses, which are mentioned alongside the more common and general uses below.

===Shops===
Gold can be used to pacify angry [[shopkeeper]]s, e.g. in the event of accidental theft; see their article for more information. In Minetown, pacifying an angry shopkeeper will also pacify Minetown's [[watchmen]] if they are angry at you; this is commonly done by stealing a cheap item or a single piece of gold.

[[Credit cloning]] is a means of taking the shopkeeper's gold using your own gold; specifically, this is done by dropping your gold or a container with your gold in it to establish credit, then using your pet or a gold-loving monster to steal it back from the shop. You can then retrieve the gold and keep your store credit. See that article for more detailed information.

One consistently applicable use for gold in shops is detecting hidden [[mimics]]: throwing projectiles and other items in shops will automatically sell them, and no player enjoys having to buy back their valuable stack of [[dagger]]s or [[darts]]. Searching can uncover mimics easily, but will also result in the larger ones sticking to you; throwing a single gold piece in the direction of a suspected mimic will reveal it safely, and the gold will simply give you store credit.

===Temple priests===
{{main|Aligned priests#Chatting to a priest}}

If you [[chat]] with a peaceful temple priest while carrying gold in your open inventory, the priest will prompt you for a contribution to the temple. Donating a specific amount of gold to them can net several beneficial effects, such as the aforementioned protection or alignment points; see that article for more information specific to donations.

===Bribery===
{{main|Bribe}}
In addition to shopkeepers, some monsters, specifically [[unique demon]]s and Yendorian Army soldiers, may accept bribes of gold to leave the player alone, turning them peaceful.

===Combat===
Some gold-loving monsters such as leprechauns and orcs can potentially be distracted by thrown or strategically placed gold, potentially allowing you to distance yourself or escape from them in a pinch, or else positioning them to maximize damage from certain attacks, e.g. a rebounded [[magic missile]]. They can also be used to distract some [[hiding]] monsters, such as [[snake]]s and [[cave spider]]s.

===Conducts===
[[Pacifist]]s can use gold to gain experience points and [[exercise]] [[wisdom]] by consulting the [[Oracle]], and will want to obtain as much protection as they possibly can, as early as they can. They can also use it as a means of detecting monsters in dark corridors - it will produce the usual hit/miss messages without doing any actual damage.

===Polypiling===
Some players drop gold on top of piles used for [[polypiling]] to reduce the chance of creating a [[golem]] from other items; at the same time, too many gold objects in a pile may result in a [[gold golem]].

===Other uses===
In addition to the above, players use gold pieces to:

* Mark bubbles on the [[Plane of Water]] that you've already searched for the portal in;
* [[identification#Weight identification|Weight-test]] items, e.g. suspected [[levitation boots]] or a [[loadstone]] in a chest;
* Generate [[throne]] room monsters by #[[loot]]ing the throne while confused and carrying gold;
* For style points, #[[chat]] with the [[high priest]] on the [[Astral Plane]] right before ascending;
* Feed a pet [[metallivore]], or eat gold if polymorphed into one;
* Polymorph it for a gold golem;
* Make a [[boulder]] fall down [[stairs]] by throwing gold onto its square

==Origin==
The name "zorkmid" is a reference to the Infocom [[text adventure]] series, ''Zork''; the zorkmid is the currency used by the monarchy of Quendor, and often carries a likeness of the most recent (and last) ruler of Quendor, Lord Dimwit Flathead.

==Messages==
{{message|1 Zorkmid. 857 GUE. In Frobs we trust.|[[YAFM]] generated from selecting your gold in the [[read]] command's extended list.}}

== See also ==
* [[Negative gold]]

== Encyclopedia entry (for "gold") ==
{{encyclopedia|
A metal of characteristic yellow colour, the most precious metal used as a common commercial medium of exchange.  Symbol, Au; at. no. 79; at. wt. 197.2.  It is the most malleable and ductile of all metals, and very heavy (sp. gr., 19.3). It is quite unalterable by heat, moisture, and most corrosive agents, and therefore well suited for its use in coin and jewelry.
|[ Webster's New International Dictionary
                           of the English Language, Second Edition ]
}}
[[Category:Items]]
{{nethack-364}}}
&&%s&& %s Altar {150222 2023-03-12T05:34:02Z {4000251 Netzhack} /* Encyclopedia entry */ Soft line breaks {{features}}
{{Wikipedia|Altar}}
{{religion}}
An '''altar''', represented by an underscore ({{lightgray|_}}), is a place where you may worship [[god]]s. [[Temple]]s contain an altar and an [[aligned priest]].

Altars are '''co-aligned''' if they are of the same [[alignment]] as you and '''cross-aligned''' if they are of a different alignment. To determine if an altar is co-aligned, either use [[far look]] or stand on it and use close look. Altars of Moloch are '''unaligned'''. Unaligned altars appear only in Gehennom, one variant of [[Minetown]] and some quests (except as [[mimic]]s).

Altars are scattered randomly throughout the dungeons. [[Minetown]] has a randomly aligned altar and unaligned altars can be found in the [[Valley of the Dead]] (in the temple of [[Moloch]]), Orcus-town and Moloch's Sanctum unless they were destroyed in a [[bones|bones file]]. The variant of Minetown that has been overrun by [[orc]]s has an unaligned altar.

Altars can be used to detect the [[BUC]] status of items. This is done by dropping the item onto the altar. A black flash marks a cursed item and an amber flash a blessed one. You cannot detect the BUC status if you are [[blindness|blind]]. You cannot detect whether an item is blessed or cursed if you are [[hallucination|hallucinating]], as you will not be able to distinguish between amber flashes and black flashes; you can, however, identify uncursed items, as there will not be a flash at all.{{reffunc|do.c|doaltarobj|name=doaltar}}

If you #[[sit]] on,{{refsrc|src/sit.c|137|nethack=3.6.6}} [[engrave]] on,{{refsrc|src/engrave.c|576|nethack=3.6.6}} or [[kick]]{{refsrc|src/dokick.c|1061|nethack=3.6.6}} an altar, you will experience negative effects depending on the altar alignment and your [[alignment record]]. If the altar is co-aligned and your alignment record is greater than -[[rn2]](4), you lose one point of wisdom and one point of alignment record; otherwise, you lose 0-2 points of Luck, if your Luck is greater than -5.{{refsrc|src/pray.c|2232|nethack=3.6.6}} This can be used to deliberately lower your [[Luck]] or [[alignment record]] to prevent [[crowning]]. This does not break [[atheist]] conduct.

If you (or a monster) zap a [[wand of digging]] downwards, you get the message ''"The digging ray is ineffective"'' and nothing further happens. However, if you break a [[wand of digging]] or [[apply]] a [[drum of earthquake]] while standing on an altar, it will be destroyed (unless it is a high altar).

Standing on any altar [[scare]]s [[vampire]]s as if you were standing on [[Elbereth]] or a [[scroll of scare monster]].{{refsrc|monmove.c|129}}

Randomly generated altars appear in ordinary room and corridor levels in the [[Dungeons of Doom]]. There is an independent 1 in 60 chance of each [[special room|non-special]] room containing an altar,{{refsrc|mklev.c|785}} which gives a 93% chance of at least one. The altar has an equal probability of each of the three alignments. Altars will not be generated adjacent to doors (diagonal is okay), but otherwise can occupy any spot in the room not already occupied by something else.{{refsrc|mklev.c|1353}} The chance of an empty room containing an altar does not change with dungeon level.

==Sacrificing corpses==
{{main|Sacrifice}}
Sacrificing fresh corpses is a useful way to reduce your prayer timeout, increase your luck, gain powerful [[artifact weapon]]s, and improve your [[alignment]] (particularly if your god is unhappy with you). In [[SLASH'EM]], you can also have wielded and worn items [[blessed]] and gain powerful [[minion]]s through sacrifice. [[Sacrifice|Sacrificing]] at the altar of another god has a chance of converting that altar to your alignment, potentially angering that god. Note that it also has a chance of converting ''you'' to that altar's alignment, angering your god and making it difficult or impossible to complete the [[quest]] if you haven't already done so.

==Making holy/unholy water==
If you drop one or more [[potions of water]] onto an altar and #[[pray]], the potions become [[potion of holy water|blessed]] if the altar was aligned with you and become [[potion of unholy water|cursed]] if the altar was not aligned with you. This occurs regardless of whether the water was blessed or cursed before. Be aware that water praying on a cross-aligned altar will anger your god, decrease your luck, and possibly cause you to be punished in some other way.

Normal prayer timeouts apply when praying on altars.

==Altar camping==
It is generally possible to survive indefinitely on a level with an altar. Under normal circumstances, the need for food drives you to deeper unexplored levels. However, you can instead pray when weak, and sacrifice to reduce your prayer timeout back to zero. Doing this for extended periods of time can net you many [[death drop]]s, as well as a collection of gifts from your god if your luck is substantially high. This is considered by some to be [[cheating|degenerate]].

In older versions, this was most effectively done with [[black pudding]]s or [[brown pudding]]s, which was known as "[[pudding farming]]"; [[brown pudding]]s were less suitable for farming due to a lower sacrifice value, the inability to be summoned by kicking a sink, and their tendency to not leave a corpse (meaning more work and fewer death drops), but this was offset by their lack of a damaging attack, allowing them to be farmed more safely by physically weak or low level characters. As of Nethack 3.6.0, however, puddings no longer leave corpses at all, rendering this strategy totally ineffective.

==High altars==
The three altars on the [[Astral Plane]] and the altar in [[Moloch's Sanctum]] are considered to be '''high altars'''. They act largely as normal altars, but cannot be converted under any circumstances; doing so will cause the god in question to attempt to zap you and, failing this, will summon three minions to protect the altar. In addition, it is not possible to sacrifice monsters unless you are holding them (to prevent sacrificing the [[Riders]]).

To correctly ascend, one must #offer the real [[Amulet of Yendor]] (held in main inventory, not dropped on the altar) at the altar of your [[alignment]]. Determining the alignment of the altar requires standing on its location and using the {{kbd|:}} (look) command. The {{kbd|;}} (farlook) command does not give information about a high altar's alignment (it merely calls it "aligned," which does not mean "coaligned with you," [[Lessons learned the hard way|as a number of new players learn the hard way]]). Other methods to detect the correct altar are to zap a [[wand of probing|probing]] at the [[high priest]], or to note if you are given [[sanctuary]] (that is, all monsters other than the [[Riders]], [[aligned priest]], and [[angelic being]]s, will not be allowed to enter and cannot attack you with melee attacks). If the version of NetHack you are playing on has not fixed the [[Astral call bug]], that is also a possibility.

You can destroy the [[chaotic]] altar with non-chaotic same-[[race]] [[sacrifice]], but you cannot convert the others.

==Hallucinating colors==
If you drop a blessed or cursed item on an altar while [[hallucination|hallucinating]] you will see a <color> flash, where <color> is randomly selected from: "ultraviolet", "infrared", "bluish-orange", "reddish-green", "dark white", "light black", "sky blue-pink", "salty", "sweet", "sour", "bitter", "striped", "spiral", "swirly", "plaid", "checkered", "argyle", "paisley", "blotchy", "guernsey-spotted", "polka-dotted", "square", "round", "triangular", "cabernet", "sangria", "fuchsia", "wisteria", "lemon-lime", "strawberry-banana", "peppermint", "romantic", "incandescent".<ref name=doaltar />{{reffunc|do_name.c|hcolor}}

==Encyclopedia entry==
{{encyclopedia|
Altars are of three types:
1.  In Temples.  These are for Sacrifices [...].  The stone top will have grooves for blood, and the whole will be covered with _dry brown stains of a troubling kind_ from former Sacrifices.
{{right-align|[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]}}

To every man upon this earth
Death cometh soon or late;
And how can man die better
Than facing fearful odds
For the ashes of his fathers
And the temples of his gods?
|[ Lays of Ancient Rome, by Thomas B. Macaulay ]
}}

==Variants==
Players of [[NetHack brass]] and [[SLASH'EM]] need to be wary when converting altars, because of the increased chance that the altar's original god will dispatch a [[minion]] against you. At [[experience level]] 7 or above with high [[alignment]], the chance of a minion appearing after converting the altar is the same as vanilla.{{refsrc|pray.c|1606|version=SLASH'EM 0.0.7E7F2}}{{refsrc|pray.c|1396}} As in vanilla, the god will yell, "Thou shalt pay for thy indiscretion!"{{refsrc|minion.c|128}} Players with a high [[luck]] will have fewer minions dispatched against them.

Even worse, there's an additional chance of one or more minions appearing post-conversion. In SLASH'EM, if you are at experience level 4 or above, there is a chance that "You feel (god) is very angry at you!" and the god dispatches two minions.{{refsrc|pray.c|1583|version=SLASH'EM 0.0.7E7F2}} Afterwards, you still have the original chance of another minion, as above. Again, [[luck]] is a factor.

In [[NetHack brass]], you will always receive "You feel (god) is very angry at you!" For all experience levels, at least one minion will appear. Two rolls are made: the first from 0 to 9, the second from 0 to 19.  For each roll, if your level is less than the generated random number, a post-conversion minion is summoned.  [[Luck]] is not a factor. Thus in brass it is very dangerous to convert altars. You might convert an altar at experience level one and have to flee to another level from one minion, or three minions if the game rolled 0 twice, thus giving you no use of the converted altar. If converting an altar at experience level 7 or above, you might still get the pre-conversion minion, forcing you to fight as many as four summoned minions.<ref>src/pray.c in brass 040923</ref>

Also, there seems to be a possibility in SLASH'EM to have equipment being worn blessed if you sacrifice enough.

==See also==
[[Prayer]] is closely related to sacrifice. See that page for altar-related [[intrinsic]]s, [[crowning]], etc.

==References==
<references />

{{nethack-343|offset=1}}
{{featured}}

[[Category:Dungeon features]]
[[Category:Religion]]}
&&%s&& %s Gold piece {2744 2006-05-10T02:40:23Z {509 Lotte} created redirect #REDIRECT [[Zorkmid]]}
&&%s&& %s Unicorn {150230 2023-03-12T05:47:10Z {4000251 Netzhack} /* Encyclopedia entry */ Blank lines out. {{monster
 |symbol={{monsym|white_unicorn}}{{monsym|gray_unicorn}}{{monsym|black_unicorn}}
 |tile=[[Image:Unicorns.png]]
 |difficulty=6
 |level=4
 |experience=51
 |speed=24
 |AC=2
 |MR=70
 |align=7 (lawful) (white)<br/>0 (neutral) (gray)<br/>&minus;7 (chaotic) (black)
 |frequency=2 (Quite rare) (white)<br/>1 (Very rare) (gray)<br/> 1 (Very rare) (black)
 |genocidable=Yes
 |attacks=Headbutt 1d12<br/>Kick 1d6
 |weight=1300
 |nutr=300
 |size=Large
 |resistances=Poison
 |resistances conveyed=Poison (27%)
 |attributes={{attributes|A unicorn|=
 |nohands=1|herbivore=1|wander=1|strong=1|jewels=1|infravisible=1}}
 |reference=[[monst.c#line892]]
}}

The '''unicorn''' is a type of [[monster]] that appears in ''[[NetHack]]''. 

There are three types of unicorns: white, gray, and black, which correspond to [[lawful]], [[neutral]], and [[chaotic]] alignments respectively. Directly killing a unicorn of your own alignment always carries a &minus;5 [[Luck]] penalty; eating a unicorn corpse is safe regardless of alignment, and has a 27% chance of giving [[poison resistance]].

==Generation==
Unicorns tend to appear somewhat early in the dungeon, starting around DL 7 or so. Normally generated unicorns matching your alignment will be peaceful;{{refsrc|src/makemon.c|1271|version=NetHack 3.6.6}} all others will be hostile. Unicorns in bones files or created by polymorph traps may be exceptions to this rule. White unicorns are generated slightly more frequently than the other types; this is to compensate for [[Gehennom]] preventing the random generation of lawful monsters.

A unicorn is guaranteed to leave a [[corpse]] behind unless killed in a way that destroys it (e.g., [[disintegration]] or [[digestion]]); it will also leave a [[unicorn horn]] with its corpse, unless it has been [[revive]]d or is a [[polymorph]]ed monster from a polymorph [[trap]], in which case it has only a 50% chance of leaving one.{{refsrc|src/mon.c|332|version=NetHack 3.6.6}}

==Strategy==
Unicorns are extremely fast and can easily outpace even players with [[very fast]] speed. A unicorn that can see the player will attempt to avoid being "lined up" by the player (orthogonally or diagonally) even if they are hostile.{{refsrc|src/monmove.c|1089|version=NetHack 3.6.6|comment=Unicorns have NOTONL flag set on teleportable levels}}{{refsrc|src/monmove.c|1125|version=NetHack 3.6.6|comment=Non-teleportable levels are handled specially, but unicorns still attempt avoidance if possible}}{{refsrc|src/mon.c|1492|version=NetHack 3.6.6|comment=Implementation of NOTONL flag behavior in mfndpos()}} If a unicorn has no available neighboring square where it would not be lined up, it has a 50% chance of teleporting away each time it tries to move.{{refsrc|src/monmove.c|1251|version=NetHack 3.6.6}} Attempting to move into melee range of a non-peaceful unicorn will usually cause it to attack you before leaping or teleporting away to an applicable square.

Unicorns do surprising amounts of damage, getting in multiple kicks and butts per turn. However, because they will not intentionally move into melee range, it is usually not difficult to avoid combat with them. This does not apply to pet unicorns that attack monsters, which occurs normally as with any other pet.

===Combat===
In the beginning of the game, when you typically are weak and most need the horn, the most sound strategy for fighting unicorn is to let a [[pet]] take it out; this naturally also avoids any Luck penalties for killing a co-aligned unicorn, though the pet may still be killed if the unicorn lands enough counterattacks.

In addition to pets, more combat-capable characters can lead them into hallways and attack with projectiles from a safe distance; rays which bounce from walls are also viable, and a [[boomerang]] can be handy in this situation as well. Savvy players can trap it using a [[pit]] or a [[beartrap]], though it will only work once per trap; characters at [[Skilled]] or better in [[polearms]] or [[lance]] can [[pound]] the unicorn while it is a knight's move away with no fear of counterattacks. Players with [[very fast]] speed will have occasional chances to attack with ranged weapons or else close in to attempt direct combat, and a well-armored and prepared very fast player can defeat them fairly easily.

A good way of closing in on a unicorn is to use [[invisibility]]: unicorns cannot [[see invisible]], making for a much easier time lining them up to throw weapons or gems at them. However, invisibility can backfire for a weak character - a hostile unicorn that can't see you will not know to stay a knight's move away, resulting in a potential skewering if it closes in. Due to a bug, unicorns are not fooled by [[displacement]] while moving to avoid you - once within melee range, however, hostile unicorns will attack as normal and possibly target your displaced image instead of you.<ref>[https://github.com/NetHack/NetHack/issues/564 Issue #564: Unicorns ignore player's displacement when avoiding the player]</ref>

{{upcoming|NetHack 3.7.0|The aforementioned bug is now fixed, and unicorns try to avoid being lined up with where they ''perceive'' you to be, even if you are displaced. ([https://github.com/NetHack/NetHack/commit/62e09ae9f31ea052142544ec0061c292c3d5642c commit])}}

===Unicorn horns===
{{main|Unicorn horn}}
Applying a unicorn horn has a chance of curing blindness, hallucination, confusion, and stunning status effects, making a unicorn horn an essential item for all adventurers - see its article for more details.

Unicorns can use their own horn to cure themselves of these effects, producing the message ''"The tip of the &lt;color&gt; unicorn's horn glows!"''  A player polymorphed into a unicorn can use the [[Monster (command)|#monster]] extended command to do the same, acting as a uncursed unicorn horn would.

===Sacrificing unicorns===
{{main|Sacrifice#Sacrificing unicorns}}

Sacrificing a unicorn at an [[altar]] is a special case: sacrificing cross-aligned unicorns on your god's altar can reap [[alignment record|alignment]] and [[Luck]] benefits, you should sacrifice on your own altar a unicorn of a different alignment. If the corpse, the altar, and you are three different alignments, it is just a regular sacrifice. However, sacrificing coaligned unicorns - or sacrificing ''any'' unicorn on an altar of its own alignment - will cause bad things to happen. See the article on sacrifices for more details.

===Unicorns and gems===
Throwing any gem to any hostile unicorn will make it [[peaceful]]. A tamed unicorn will catch and immediately drop gems thrown at it, without any effect on [[Luck]] or identification. Unicorns also pick up any gems and stones they come across, worthless or not.

If the gem is worthless glass, a rock, or a [[gray stone]], it will not affect your Luck, and the unicorn will either "graciously" accept it or be "not interested in your junk". If it is valuable, a co-aligned unicorn "gratefully" keeps the gem and improves your [[Luck]], depending on the identification status of the gem: +5 points if the gem is formally identified, +2 points if type-[[name]]d, and +1 point if completely unknown.{{refsrc|src/dothrow.c|1801|version=NetHack 3.6.6|comment=function gem_accept()}}

Coaligned unicorns are great for improving Luck and sorting out worthless glass. The game does not check what the gem is named, or what its type is called, as long as one of them is defined - ideally, you should type-name all gems before throwing them at coaligned unicorns. It is easiest to increase Luck this way in a no-teleport level, e.g. [[Sokoban]], in order to prevent them teleporting away after each catch. If you are sure you will not need the unicorn again after, you may want to encourage a [[pet]] to kill it so you can recover your gems without any Luck penalty.

A cross-aligned unicorn will "hesitatingly" accept a valuable gem, and your Luck may increase or decrease by one point if the gem is not formally identified, and by up to three points if it is. It is not generally a good idea to throw gems at cross-aligned unicorns unless you're pretty sure they're glass.

==Messages==
{{message|The <color> unicorn's recently regrown horn crumbles to dust.|A revived unicorn died, but did not drop a unicorn horn.}}
{{message|The tip of the <color> unicorn's horn glows!|A unicorn cured a status problem using its horn.}}
{{message|The <color> unicorn catches and drops the <gem>.|You threw a gem at a tame unicorn.}}
{{message|The <color> unicorn is not interested in your junk.|You threw a formally identified or type-named piece of worthless glass, a rock, or a gray stone at a unicorn.}}
{{message|The <color> unicorn hesitatingly accepts your gift.|You threw a valuable gem at a cross-aligned unicorn, and your Luck may have gone up or down.}}
{{message|The <color> unicorn graciously accepts your gift.|You threw an unidentified piece of worthless glass or a gray stone at a unicorn.}}
{{message|The <color> unicorn gratefully accepts your gift.|You threw a valuable gem at a coaligned unicorn, and your Luck increased by 1, 2, or 5.}}
{{message|The <color> unicorn catches the <color> gem.|You threw a (valuable or worthless) gem at a unicorn while blind.}}

==Origin==
{{wikipedia}}
{{wikipedia|List of unicorns}}
The unicorn is a creature that features prominently in European-styled fairy tales, though it is much older and appears in many other folklores, being depicted as far back as the Indus Valley Civilization in ancient seals, and has been mentioned by the ancient Greeks in accounts of natural history by various writers such as Strabo, Pliny the Younger, and Aelian. In the Middle Ages, depictions of a unicorn trapped by a maiden were an elaborate allegory for the Incarnation of Christ (with the maiden representing the virgin Mary); this likely gave rise to the recurring motif of unicorns appearing to and/or being tameable only by a fair, virgin maiden. Naturally, unicorns are one of many folkloric creatures included in ''[[Dungeons & Dragons]]''.

The unicorn is commonly depicted as an equine beast with a single large, pointed, spiraling horn projecting from its forehead; it is quadrupedal and almost always equine or caprine in appearance, with white or light-colored hair. Unicorns are generally nearly impossible to catch, and are fittingly sought after for their various magical properties, such as those inherent to [[wikipedia:Unicorn horn|its horn]]; modern fiction often extends those properties to its other features, such as its hair or blood. "Unicorn" is used as a colloquial term that refers to someone or something that is rare and hard to find. 

The Chinese ''qilin'' (Chinese: 麒麟), is sometimes called "the Chinese unicorn", and is described as a hybrid animal with the body of a deer, the head of a lion, green scales and a long forwardly-curved horn. The Japanese [[ki-rin]] is based on the ''qilin'', but more closely resembles the Western unicorn.

==Encyclopedia entry==
{{encyclopedia|Men have always sought the elusive unicorn, for the single twisted horn which projected from its forehead was thought to be a powerful talisman.  It was said that the unicorn had simply to dip the tip of its horn in a muddy pool for the water to become pure.  Men also believed that to drink from this horn was a protection against all sickness, and that if the horn was ground to a powder it would act as an antidote to all poisons.  Less than 200 years ago in France, the horn of a unicorn was used in a ceremony to test the royal food for poison.
Although only the size of a small horse, the unicorn is a very fierce beast, capable of killing an elephant with a single thrust from its horn.  Its fleetness of foot also makes this solitary creature difficult to capture.  However, it can be tamed and captured by a maiden.  Made gentle by the sight of a virgin, the unicorn can be lured to lay its head in her lap, and in this docile mood, the maiden may secure it with a golden rope.
{{right-align|[ Mythical Beasts, by Deirdre Headon (The Leprechaun Library) ]}}
Martin took a small sip of beer.  "Almost ready," he said.
"You hold your beer awfully well."
Tlingel laughed.  "A unicorn's horn is a detoxicant.  Its possession is a universal remedy.  I wait until I reach the warm glow stage, then I use my horn to burn off any excess and keep me right there."
|[ Unicorn Variations, by Roger Zelazny ]}}

==References==
<references/>
{{nethack-366}}
[[Category:Monsters]]}
&&%s&& %s MediaWiki:Common.css {139763 2021-05-11T17:20:22Z {630 Paxed} Add SimpleTabs style /*<pre>*/
/* edit this file to customise CSS for all skins */

/* prevent blurry images, such as 16x16 tiles being scaled up */
img {
  image-rendering:optimizeSpeed;             /* Legal fallback */
  image-rendering:-moz-crisp-edges;          /* Firefox        */
  image-rendering:-o-crisp-edges;            /* Opera          */
  image-rendering:-webkit-optimize-contrast; /* Safari         */
