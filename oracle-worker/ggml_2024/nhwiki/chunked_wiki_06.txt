
{{random ttymap}}

==Why do people like ''NetHack''?==
{{stub|I think this page should be a kind of FAQ, as it may be the first place strangers will visit upon seeing the Main Page.}}

''NetHack'' enjoys popularity in niches. Mathematicians, programmers, physicists, engineers, linguists and writers all feel a strong pull, though anyone with an eye for detail, a sense of completeness, a respect for complexity, and a head for numbers will be at home.

On the surface, the game is a hack'n'slash [[Dungeons and Dragons]] clone, but its subtle sense of humor and intellectual rigor elevate it from the faintly nerdy to the sharply geeky.

Just as a mathematician seeks elegant expressions over fuzzy generalities, ''NetHack'' eschews graphics in favor of perfectly crafted, well-defined [[ASCII]] characters. While other games are dated by their interfaces, ''NetHack'' is preserved in ascetic purity.

The programmer is drawn to ''NetHack'' as an extension of the operating system. Its culture is deeply intertwined with that of the Unix systems, and indeed is a staple fixture on any good [[Unix]] system - a known quantity, ageless, familiar, and soothing; whatever hairy command-line tasks are required, ''nethack(6)'' is always there.

''NetHack'' is hard: while other games can be completed in an afternoon, you may go years without finishing ''NetHack''.

''NetHack'' is unforgiving: if you die, you stay dead. There is no save-and-reload crutch here. Put simply, ''NetHack'' is a harsh mistress, whose respect you must earn. In time, you learn to respect it back.

''NetHack'' is deep: in your first game, you will die quickly, and come back worrying about how to survive. You will learn, eventually, and move onto higher concerns. You will stop worrying about your score, and start considering questions of optimality, efficiency, and elegance. You will consult tables and guides in search of an edge because everyone knows the best way to have fun in a game is to take 20 until you beat an impossible DC, rather than try to actually succeed at something hard yet possible. You may dive into the very [[source code]], looking to explain that one-in-a-thousand shot you just pulled off. You will probably learn some C, and possibly get into heated debates about the merits of pseudorandom number generators, expected returns, inconsistencies between competing mythologies, and the ethics of exploiting bugs.

''NetHack'' is history: Descending from ''[[Rogue (game)|Rogue]]'', ''NetHack'' has {{#expr:({{CURRENTYEAR}}) - 1985}} years of development behind it. It is one of the few computer games widely played by people who are younger than it. From this history arises a kind of authority.

==Graphical user interfaces==
{{main|Graphical user interface}}

As well as the standard [[ASCII]] interface, many official and unofficial [[graphical user interface]]s are available. Using a graphical interface allows the game to be played with [[tiles]] instead of ASCII graphics. The best known are probably the officially supported ports for Windows, Mac and Linux:
* [[Microsoft Windows]] (the standard NetHackW.exe available from nethack.org, or available on the Windows Store)
* [[Qt]] for Linux and Mac
* [[X11]] for Linux (and Mac if developer tools are installed)

Notable unofficial graphical interfaces are:
* Web terminals, allowing the player to play on a public server with either ASCII graphics or tiles in their browser without downloading anything. Available on [[NAO]] and [[Hardfought]].
* [[Graphical user interface#NetHack Android|NetHack for Android]]
* [[iNetHack]] for iOS
* [[Falcon's Eye]] and [[Vulture]], offering a 3D isometric view of the map. Note that neither of these is supported anymore.

==Title==
The title is properly spelled "NetHack", with two capital letters. "nethack" is also correct when used to refer to the name of the game binary. "Nethack" is a common misspelling, even having been used by members of the [[DevTeam]] in comments in the [[source code]].

==Popular culture==
{{stub|Gads this begs to be longer.}}

In its legacy, ''NetHack'' has directly and indirectly been referenced in many sources.

* [http://bash.org/?search=nethack&sort=0&show=25 ''NetHack'' quotes], on the Bash Quote Database.
* The game ''Deus Ex'' has [http://steamcommunity.com/sharedfiles/filedetails/?id=108920764 a reference to beating a future version of ''NetHack''] in the distant future.
* [[Dudley's Dungeon]], a webcomic set in ''NetHack''.
* [http://www.dungeonsofdredmor.com ''Dungeons of Dredmor''] is a newer, sprite animated dungeon crawler with a more in-your-face sense of humor that nonetheless feels almost like a GUI rewrite of ''NetHack'', and features direct quotes from ''NetHack'' like "You hear the sounds of a cash register."
* In the game [http://www.freedroid.org/ ''FreedroidRPG''], you can play an ultra-simplified version of ''NetHack'' as a game-within-a-game (much easier to beat than actual ''NetHack'').
* The [http://git.savannah.gnu.org/gitweb/?p=screen.git;a=blob;f=src/attacher.c#l609 Screen terminal emulator] has idiosyncratic messages from ''NetHack'', such as "Suddenly, the dungeon collapses." when the program crashes.
* The game [http://spelunkyworld.com/ ''Spelunky''], which has some similarities to ''NetHack'' and is inspired by classic roguelikes, dungeon crawlers, and adventure games including ''NetHack'', has ''NetHack'' references such as Vlad, his tower, and the camera.

==History==
{{main|Game history}}

''NetHack'''s first version, [[NetHack 1.3d|1.3d]], was released in July 1987, descending directly from [[Jay Fenlason's Hack|Jay Fenlason]] and [[Hack 1.0|Andries Brouwer]]'s Hack. Subsequent early versions of ''NetHack'', namely [[NetHack 1.4f|1.4f]], [[NetHack 2.2a|2.2a]] and [[NetHack 2.3e|2.3e]] were released through 1987 and 1988.

In 1989, the first release of ''NetHack'''s current incarnation, [[NetHack 3.0.0|3.0.0]], was posted to Usenet. It featured a massive expansion over the previous versions.

[[NetHack 3.1.0|''NetHack'' 3.1.0]] was released in 1993, bringing several big changes, such as the introduction of [[Gehennom]] in place of [[Hell]], and the introduction of the [[invocation ritual]].

Three years later, [[NetHack 3.2.0|''NetHack'' 3.2.0]] was released, dedicated to the memory of [[Izchak Miller]].

Several forks of ''NetHack'' were produced through the lifespan of both 3.1 and 3.2. The current version is [[NetHack 3.6.6|3.6.6]], but [[NetHack 3.4.3|3.4.3]] continues to be popular considering that it was the only version available for a long time.

In addition, many [[variant]]s that are much more open about their development, such as [[UnNetHack]] or [[NetHack 4]], are popular.

==Download==
{{for|downloading the wiki itself|NetHackWiki:Download}}
You can also play online on a [[public server]], e.g., [http://alt.org/nethack/ nethack.alt.org].

===Official version===
* [https://www.nethack.org/common/index.html Official ''NetHack'' download page] (Tiles and text interfaces are available for Windows, Linux, Mac, and other systems)

===Computer-like platforms===
* [http://bilious.alt.org/ ''NetHack'' Patch Database]
* [https://github.com/kaladron/nethack-nacl nethack-nacl, ''NetHack'' 3.4.3 for Google Native Client (NaCl)]
* [http://rpmfind.net/linux/rpm2html/search.php?query=nethack ''NetHack'' RPMs for Linux]
* [http://www.cs.tu-berlin.de/~gaston/nethack Atari Binaries]
* [ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/games/README.html NetBSD packages]
* [http://www.phlamethrower.co.uk/riscos/nethack.php ''NetHack'' for RISC OS]
* [http://www.delorie.com/agenda/nethack/download.html ''NetHack'' 3.3.1 for the Agenda VR3]
* [ftp://ftp.linux.org.uk/pub/linux/alan/Packages/S390-games/ ''NetHack'' 3.4.1 packages for RedHat on S/390]
* [http://vpsland.superglobalmegacorp.com/install/WindowsNT4.0-MIPS/games/nethack-3.1.2-MIPS.zip ''NetHack'' 3.1.2 for Windows NT 4.0 MIPS]
* [http://vpsland.superglobalmegacorp.com/install/WindowsCE/nethack/nethack3.4.3-WinCE-2.11-x86.zip ''NetHack'' 3.4.3 for Windows CE 2.11 x86]
* [ftp://ftp.sunet.se/pub/games/nethack/Msdos/NH_older Old to ancient versions of ''Hack'' and ''NetHack'' for MS-DOS]

===Other platforms===
* ''[[iNetHack]]'' for iOS, available from the App Store
* [http://www.feelthepawa.com/PSP/Nethack/ ''NetHack'' for PSP]
* [http://www.suttoncourtenay.org.uk/duncan/Downloads ''NetHack'' for Psion 5/5MX]
* [https://play.google.com/store/apps/details?id=com.tbd.NetHack ''NetHack'' for Android (port by gurr)]
* [https://play.google.com/store/apps/details?id=com.nethackff ''NetHack'' for Android (port by Fredrik Franstrom)]
* [http://www.big-ape.net/nethax/ NetHax, an internet browser version of ''NetHack'' created in Ajax]

===Other interfaces===
{{main|Graphical user interface}}

* [http://www.darkarts.co.za/vulture-for-nethack Vulture, a 3D display for ''NetHack'' 3.4.3] (see also [[Vulture]])
* [http://www.darkarts.co.za/noegnud noegnud, alternate UI system for ''NetHack''] (see also [[noegnud]])
* [http://gtk2hack.sourceforge.net/download.html ''NetHack'' for the gtk2 window system]
* [http://glhack.sourceforge.net/download.php glHack] (see also [[glHack]])
* [http://www.sbrain.org/nethack3d/ ''NetHack'' 3D]

===Other languages===
{{main|NetHack in other languages}}

* [http://jnethack.sourceforge.jp/ ''NetHack'' in Japanese, based on ''NetHack'' 3.4.3]
* [http://nethack-users.sourceforge.jp/ Other variants, Japanese translation]
* [http://sourceforge.net/projects/nethack-de/files/ NetHack-De, ''NetHack'' in German (work in progress)]
* [http://www.netzhack.de/download/neuste/ NetzHack, ''NetHack'' in German]
* [http://spanish-nethack.sourceforge.net/ ''NetHack'' 3.4.3 in Spanish]

==External links==
* [https://www.nethack.org/ Official ''NetHack'' site]
{{nethack-362}}
[[Category:Roguelikes]]}
&&%s&& %s NetHack 3.6.0 source code {109868 2018-05-12T10:19:10Z {4000688 DizzyBot} DizzyBot moved page [[Source code]] to [[NetHack 3.6.0 source code]] over a redirect without leaving a redirect: New NetHack version {{NetHack source code}}
''Source code'' is the code of a program that is not yet [[Compiling|compiled]] into an OS-usable binary. NetHack is programmed in [[wikipedia:C programming language|C]], a portable language that compiles on many systems. The NetHack programmers, the [[DevTeam]], are a dedicated but conservative bunch, releasing new versions very infrequently. The latest NetHack sources are available at ([http://www.nethack.org/v360/download-src.html http://www.nethack.org/v360/download-src.html]). Earlier versions are available at ([http://www.nethack.org/common/index.html http://www.nethack.org/common/index.html]).

NetHackWiki provides an annotated version of the NetHack 3.6.0 source code. The original source code is distributed under the [[Project:NetHack General Public License|NetHack General Public License]]; our annotations use the [[GNU Free Documentation License]]. Read [[Project:Copyrights]] for detailed copyright information.

Here at [[NetHackWiki:About|NetHackWiki]], anyone, including you, can annotate the source code. You can get an overview of the sources by reading the [[Beginner's_guide_to_NetHack_sources|Beginner's Guide To NetHack Sources]] or just [[Source diving|dive]] in!

An indicator like "(20% annotated)" indicates that someone has documented about 20% of the code for that file. All others are not yet annotated. (Please help!)

'''Note:'''
As of now, automatic function name links redirect to 3.4.3 source functions. A fix in in progress for automatic function citations with Source:Ref to link to 3.6.0 functions. [[User:Dizzylizzy|Dizzylizzy]] ([[User talk:Dizzylizzy|talk]]) 22:24, 3 January 2016 (UTC)

__TOC__
{|style="width: 100%;"
|style="width: 50%; vertical-align: top;"|
=== nethack-3.6.0/include ===
* [[Source:NetHack_3.6.0/include/align.h|align.h]]
* [[Source:NetHack_3.6.0/include/amiconf.h|amiconf.h]]
* [[Source:NetHack_3.6.0/include/artifact.h|artifact.h]]
* [[Source:NetHack_3.6.0/include/artilist.h|artilist.h]]
* [[Source:NetHack_3.6.0/include/attrib.h|attrib.h]]
* [[Source:NetHack_3.6.0/include/beconf.h|beconf.h]]
* [[Source:NetHack_3.6.0/include/bitmfile.h|bitmfile.h]]
* [[Source:NetHack_3.6.0/include/botl.h|botl.h]]
* [[Source:NetHack_3.6.0/include/color.h|color.h]]
* [[Source:NetHack_3.6.0/include/config.h|config.h]]
* [[Source:NetHack_3.6.0/include/config1.h|config1.h]]
* [[Source:NetHack_3.6.0/include/context.h|context.h]]
* [[Source:NetHack_3.6.0/include/coord.h|coord.h]]
* [[Source:NetHack_3.6.0/include/decl.h|decl.h]]
* [[Source:NetHack_3.6.0/include/def_os2.h|def_os2.h]]
* [[Source:NetHack_3.6.0/include/dgn_file.h|dgn_file.h]]
* [[Source:NetHack_3.6.0/include/display.h|display.h]]
* [[Source:NetHack_3.6.0/include/dlb.h|dlb.h]]
* [[Source:NetHack_3.6.0/include/dungeon.h|dungeon.h]]
* [[Source:NetHack_3.6.0/include/engrave.h|engrave.h]]
* [[Source:NetHack_3.6.0/include/extern.h|extern.h]]
* [[Source:NetHack_3.6.0/include/flag.h|flag.h]]
* [[Source:NetHack_3.6.0/include/func_tab.h|func_tab.h]]
* [[Source:NetHack_3.6.0/include/gem_rsc.h|gem_rsc.h]]
* [[Source:NetHack_3.6.0/include/global.h|global.h]]
* [[Source:NetHack_3.6.0/include/hack.h|hack.h]]
* [[Source:NetHack_3.6.0/include/lev.h|lev.h]]
* [[Source:NetHack_3.6.0/include/lint.h|lint.h]]
* [[Source:NetHack_3.6.0/include/load_img.h|load_img.h]]
* [[Source:NetHack_3.6.0/include/mac-carbon.h|mac-carbon.h]]
* [[Source:NetHack_3.6.0/include/macconf.h|macconf.h]]
* [[Source:NetHack_3.6.0/include/macpopup.h|macpopup.h]]
* [[Source:NetHack_3.6.0/include/mac-qt.h|mac-qt.h]]
* [[Source:NetHack_3.6.0/include/mac-term.h|mac-term.h]]
* [[Source:NetHack_3.6.0/include/mactty.h|mactty.h]]
* [[Source:NetHack_3.6.0/include/macwin.h|macwin.h]]
* [[Source:NetHack_3.6.0/include/mail.h|mail.h]]
* [[Source:NetHack_3.6.0/include/mextra.h|mextra.h]]
* [[Source:NetHack_3.6.0/include/mfndpos.h|mfndpos.h]]
* [[Source:NetHack_3.6.0/include/micro.h|micro.h]]
* [[Source:NetHack_3.6.0/include/mkroom.h|mkroom.h]]
* [[Source:NetHack_3.6.0/include/monattk.h|monattk.h]]
* [[Source:NetHack_3.6.0/include/mondata.h|mondata.h]]
* [[Source:NetHack_3.6.0/include/monflag.h|monflag.h]]
* [[Source:NetHack_3.6.0/include/monst.h|monst.h]]
* [[Source:NetHack_3.6.0/include/monsym.h|monsym.h]]
* [[Source:NetHack_3.6.0/include/mttypriv.h|mttypriv.h]]
* [[Source:NetHack_3.6.0/include/ntconf.h|ntconf.h]]
* [[Source:NetHack_3.6.0/include/obj.h|obj.h]]
* [[Source:NetHack_3.6.0/include/objclass.h|objclass.h]]
* [[Source:NetHack_3.6.0/include/os2conf.h|os2conf.h]]
* [[Source:NetHack_3.6.0/include/patchlevel.h|patchlevel.h]]
* [[Source:NetHack_3.6.0/include/pcconf.h|pcconf.h]]
* [[Source:NetHack_3.6.0/include/permonst.h|permonst.h]]
* [[Source:NetHack_3.6.0/include/prop.h|prop.h]]
* [[Source:NetHack_3.6.0/include/qt_clust.h|qt_clust.h]]
* [[Source:NetHack_3.6.0/include/qt_kde0.h|qt_kde0.h]]
* [[Source:NetHack_3.6.0/include/qt_win.h|qt_win.h]]
* [[Source:NetHack_3.6.0/include/qt_xpms.h|qt_xpms.h]]
** [[List of qt_xpms.h images]]
* [[Source:NetHack_3.6.0/include/qtext.h|qtext.h]]
* [[Source:NetHack_3.6.0/include/qttableview.h|qttableview.h]]
* [[Source:NetHack_3.6.0/include/quest.h|quest.h]]
* [[Source:NetHack_3.6.0/include/rect.h|rect.h]]
* [[Source:NetHack_3.6.0/include/region.h|region.h]]
* [[Source:NetHack_3.6.0/include/rm.h|rm.h]]
* [[Source:NetHack_3.6.0/include/skills.h|skills.h]]
* [[Source:NetHack_3.6.0/include/sp_lev.h|sp_lev.h]]
* [[Source:NetHack_3.6.0/include/spell.h|spell.h]]
* [[Source:NetHack_3.6.0/include/sys.h|sys.h]]
* [[Source:NetHack_3.6.0/include/system.h|system.h]]
* [[Source:NetHack_3.6.0/include/tcap.h|tcap.h]]
* [[Source:NetHack_3.6.0/include/tile2x11.h|tile2x11.h]]
* [[Source:NetHack_3.6.0/include/timeout.h|timeout.h]]
* [[Source:NetHack_3.6.0/include/tosconf.h|tosconf.h]]
* [[Source:NetHack_3.6.0/include/tradstdc.h|tradstdc.h]]
* [[Source:NetHack_3.6.0/include/trampoli.h|trampoli.h]]
* [[Source:NetHack_3.6.0/include/trap.h|trap.h]]
* [[Source:NetHack_3.6.0/include/unixconf.h|unixconf.h]]
* [[Source:NetHack_3.6.0/include/vision.h|vision.h]]
* [[Source:NetHack_3.6.0/include/vmsconf.h|vmsconf.h]]
* [[Source:NetHack_3.6.0/include/wceconf.h|wceconf.h]]
* [[Source:NetHack_3.6.0/include/winami.h|winami.h]]
* [[Source:NetHack_3.6.0/include/wingem.h|wingem.h]]
* [[Source:NetHack_3.6.0/include/winGnome.h|winGnome.h]]
* [[Source:NetHack_3.6.0/include/winprocs.h|winprocs.h]]
* [[Source:NetHack_3.6.0/include/wintty.h|wintty.h]]
* [[Source:NetHack_3.6.0/include/wintype.h|wintype.h]]
* [[Source:NetHack_3.6.0/include/winX.h|winX.h]]
* [[Source:NetHack_3.6.0/include/xwindow.h|xwindow.h]]
* [[Source:NetHack_3.6.0/include/xwindowp.h|xwindowp.h]]
* [[Source:NetHack_3.6.0/include/you.h|you.h]]
* [[Source:NetHack_3.6.0/include/youprop.h|youprop.h]]


=== nethack-3.6.0/dat ===
* [[Source:NetHack_3.6.0/dat/Arch.des|Arch.des]]
* [[Source:NetHack_3.6.0/dat/Barb.des|Barb.des]]
* [[Source:NetHack_3.6.0/dat/bigroom.des|bigroom.des]]
* [[Source:NetHack_3.6.0/dat/castle.des|castle.des]]
* [[Source:NetHack_3.6.0/dat/Caveman.des|Caveman.des]]
* [[Source:NetHack_3.6.0/dat/endgame.des|endgame.des]]
* [[Source:NetHack_3.6.0/dat/gehennom.des|gehennom.des]]
* [[Source:NetHack_3.6.0/dat/Healer.des|Healer.des]]
* [[Source:NetHack_3.6.0/dat/Knight.des|Knight.des]]
* [[Source:NetHack_3.6.0/dat/knox.des|knox.des]]
* [[Source:NetHack_3.6.0/dat/medusa.des|medusa.des]]
* [[Source:NetHack_3.6.0/dat/mines.des|mines.des]]
* [[Source:NetHack_3.6.0/dat/Monk.des|Monk.des]]
* [[Source:NetHack_3.6.0/dat/oracle.des|oracle.des]]
* [[Source:NetHack_3.6.0/dat/Priest.des|Priest.des]]
* [[Source:NetHack_3.6.0/dat/Ranger.des|Ranger.des]]
* [[Source:NetHack_3.6.0/dat/Rogue.des|Rogue.des]]
* [[Source:NetHack_3.6.0/dat/Samurai.des|Samurai.des]]
* [[Source:NetHack_3.6.0/dat/sokoban.des|sokoban.des]]
* [[Source:NetHack_3.6.0/dat/Tourist.des|Tourist.des]]
* [[Source:NetHack_3.6.0/dat/tower.des|tower.des]]
* [[Source:NetHack_3.6.0/dat/Valkyrie.des|Valkyrie.des]]
* [[Source:NetHack_3.6.0/dat/Wizard.des|Wizard.des]]
* [[Source:NetHack_3.6.0/dat/yendor.des|yendor.des]]
|style="width: 50%; vertical-align: top;"|

=== nethack-3.6.0/src ===
* [[Source:NetHack_3.6.0/src/allmain.c|allmain.c]]
* [[Source:NetHack_3.6.0/src/alloc.c|alloc.c]]
* [[Source:NetHack_3.6.0/src/apply.c|apply.c]]
* [[Source:NetHack_3.6.0/src/artifact.c|artifact.c]]
* [[Source:NetHack_3.6.0/src/attrib.c|attrib.c]]
* [[Source:NetHack_3.6.0/src/ball.c|ball.c]]
* [[Source:NetHack_3.6.0/src/bones.c|bones.c]]
* [[Source:NetHack_3.6.0/src/botl.c|botl.c]]
* [[Source:NetHack_3.6.0/src/cmd.c|cmd.c]]
* [[Source:NetHack_3.6.0/src/dbridge.c|dbridge.c]]
* [[Source:NetHack_3.6.0/src/decl.c|decl.c]]
* [[Source:NetHack_3.6.0/src/detect.c|detect.c]]
* [[Source:NetHack_3.6.0/src/dig.c|dig.c]]
* [[Source:NetHack_3.6.0/src/display.c|display.c]]
* [[Source:NetHack_3.6.0/src/dlb.c|dlb.c]]
* [[Source:NetHack_3.6.0/src/do.c|do.c]]
* [[Source:NetHack_3.6.0/src/do_name.c|do_name.c]]
* [[Source:NetHack_3.6.0/src/do_wear.c|do_wear.c]]
* [[Source:NetHack_3.6.0/src/dog.c|dog.c]]
* [[Source:NetHack_3.6.0/src/dogmove.c|dogmove.c]]
* [[Source:NetHack_3.6.0/src/dokick.c|dokick.c]]
* [[Source:NetHack_3.6.0/src/dothrow.c|dothrow.c]]
* [[Source:NetHack_3.6.0/src/drawing.c|drawing.c]]
* [[Source:NetHack_3.6.0/src/dungeon.c|dungeon.c]]
* [[Source:NetHack_3.6.0/src/eat.c|eat.c]]
* [[Source:NetHack_3.6.0/src/end.c|end.c]]
* [[Source:NetHack_3.6.0/src/engrave.c|engrave.c]]
* [[Source:NetHack_3.6.0/src/exper.c|exper.c]]
* [[Source:NetHack_3.6.0/src/explode.c|explode.c]]
* [[Source:NetHack_3.6.0/src/extralev.c|extralev.c]]
* [[Source:NetHack_3.6.0/src/files.c|files.c]]
* [[Source:NetHack_3.6.0/src/fountain.c|fountain.c]]
* [[Source:NetHack_3.6.0/src/hack.c|hack.c]]
* [[Source:NetHack_3.6.0/src/hacklib.c|hacklib.c]]
* [[Source:NetHack_3.6.0/src/invent.c|invent.c]]
* [[Source:NetHack_3.6.0/src/light.c|light.c]]
* [[Source:NetHack_3.6.0/src/lock.c|lock.c]]
* [[Source:NetHack_3.6.0/src/mail.c|mail.c]]
* [[Source:NetHack_3.6.0/src/makemon.c|makemon.c]]
* [[Source:NetHack_3.6.0/src/mapglyph.c|mapglyph.c]]
* [[Source:NetHack_3.6.0/src/mcastu.c|mcastu.c]]
* [[Source:NetHack_3.6.0/src/mhitm.c|mhitm.c]]
* [[Source:NetHack_3.6.0/src/mhitu.c|mhitu.c]]
* [[Source:NetHack_3.6.0/src/minion.c|minion.c]]
* [[Source:NetHack_3.6.0/src/mklev.c|mklev.c]]
* [[Source:NetHack_3.6.0/src/mkmap.c|mkmap.c]]
* [[Source:NetHack_3.6.0/src/mkmaze.c|mkmaze.c]]
* [[Source:NetHack_3.6.0/src/mkobj.c|mkobj.c]]
* [[Source:NetHack_3.6.0/src/mkroom.c|mkroom.c]]
* [[Source:NetHack_3.6.0/src/mon.c|mon.c]]
* [[Source:NetHack_3.6.0/src/mondata.c|mondata.c]]
* [[Source:NetHack_3.6.0/src/monmove.c|monmove.c]]
* [[Source:NetHack_3.6.0/src/monst.c|monst.c]]
* [[Source:NetHack_3.6.0/src/mplayer.c|mplayer.c]]
* [[Source:NetHack_3.6.0/src/mthrowu.c|mthrowu.c]]
* [[Source:NetHack_3.6.0/src/muse.c|muse.c]]
* [[Source:NetHack_3.6.0/src/music.c|music.c]]
* [[Source:NetHack_3.6.0/src/o_init.c|o_init.c]]
* [[Source:NetHack_3.6.0/src/objects.c|objects.c]]
* [[Source:NetHack_3.6.0/src/objnam.c|objnam.c]]
* [[Source:NetHack_3.6.0/src/options.c|options.c]]
* [[Source:NetHack_3.6.0/src/pager.c|pager.c]]
* [[Source:NetHack_3.6.0/src/pickup.c|pickup.c]]
* [[Source:NetHack_3.6.0/src/pline.c|pline.c]]
* [[Source:NetHack_3.6.0/src/polyself.c|polyself.c]]
* [[Source:NetHack_3.6.0/src/potion.c|potion.c]]
* [[Source:NetHack_3.6.0/src/pray.c|pray.c]]
* [[Source:NetHack_3.6.0/src/priest.c|priest.c]]
* [[Source:NetHack_3.6.0/src/quest.c|quest.c]]
* [[Source:NetHack_3.6.0/src/questpgr.c|questpgr.c]]
* [[Source:NetHack_3.6.0/src/read.c|read.c]]
* [[Source:NetHack_3.6.0/src/rect.c|rect.c]]
* [[Source:NetHack_3.6.0/src/region.c|region.c]]
* [[Source:NetHack_3.6.0/src/restore.c|restore.c]]
* [[Source:NetHack_3.6.0/src/rip.c|rip.c]]
* [[Source:NetHack_3.6.0/src/rnd.c|rnd.c]]
* [[Source:NetHack_3.6.0/src/role.c|role.c]]
* [[Source:NetHack_3.6.0/src/rumors.c|rumors.c]]
* [[Source:NetHack_3.6.0/src/save.c|save.c]]
* [[Source:NetHack_3.6.0/src/shk.c|shk.c]]
* [[Source:NetHack_3.6.0/src/shknam.c|shknam.c]]
* [[Source:NetHack_3.6.0/src/sit.c|sit.c]]
* [[Source:NetHack_3.6.0/src/sounds.c|sounds.c]]
* [[Source:NetHack_3.6.0/src/sp_lev.c|sp_lev.c]]
* [[Source:NetHack_3.6.0/src/spell.c|spell.c]]
* [[Source:NetHack_3.6.0/src/steal.c|steal.c]]
* [[Source:NetHack_3.6.0/src/steed.c|steed.c]]
* [[Source:NetHack_3.6.0/src/sys.c|sys.c]]
* [[Source:NetHack_3.6.0/src/teleport.c|teleport.c]]
* [[Source:NetHack_3.6.0/src/timeout.c|timeout.c]]
* [[Source:NetHack_3.6.0/src/topten.c|topten.c]]
* [[Source:NetHack_3.6.0/src/track.c|track.c]]
* [[Source:NetHack_3.6.0/src/trap.c|trap.c]]
* [[Source:NetHack_3.6.0/src/u_init.c|u_init.c]]
* [[Source:NetHack_3.6.0/src/uhitm.c|uhitm.c]]
* [[Source:NetHack_3.6.0/src/vault.c|vault.c]]
* [[Source:NetHack_3.6.0/src/version.c|version.c]]
* [[Source:NetHack_3.6.0/src/vision.c|vision.c]]
* [[Source:NetHack_3.6.0/src/weapon.c|weapon.c]]
* [[Source:NetHack_3.6.0/src/were.c|were.c]]
* [[Source:NetHack_3.6.0/src/wield.c|wield.c]]
* [[Source:NetHack_3.6.0/src/windows.c|windows.c]]
* [[Source:NetHack_3.6.0/src/wizard.c|wizard.c]]
* [[Source:NetHack_3.6.0/src/worm.c|worm.c]]
* [[Source:NetHack_3.6.0/src/worn.c|worn.c]]
* [[Source:NetHack_3.6.0/src/write.c|write.c]]
* [[Source:NetHack_3.6.0/src/zap.c|zap.c]]

=== Other files ===

* [[Source:NetHack_3.6.0/dat/bogusmon.txt|bogusmon.txt]]
* [[Source:NetHack_3.6.0/dat/data.base|data.base]]
* [[Source:NetHack_3.6.0/dat/dungeon.def|dungeon.def]]
* [[Source:NetHack_3.6.0/dat/engrave.txt|engrave.txt]]
* [[Source:NetHack_3.6.0/dat/epitaph.txt|epitaph.txt]]
* [[Source:NetHack_3.6.0/dat/oracles.txt|oracles.txt]]
* [[Source:NetHack_3.6.0/dat/quest.txt|quest.txt]]
* [[Source:NetHack_3.6.0/dat/rumors.tru|rumors.tru]]
* [[Source:NetHack_3.6.0/dat/rumors.fal|rumors.fal]]
* [[Source:NetHack_3.6.0/dat/symbols|symbols]]
* [[Source:NetHack_3.6.0/dat/tribute|tribute]]
|}

==SLASH'EM==
See [[SLASH'EM_0.0.7E7F2_source_code]].
[[Category:NetHack 3.6.0 source code| ]]
[[Category:Source code| ]]}
&&%s&& %s Category:Source code {73437 2011-09-24T04:48:28Z {0 } cat This category contains articles with annotated [[NetHack]] [[source code]]. Please put other articles relating to coding in [[:Category:Development]]
[[Category:Articles]]}
&&%s&& %s Inventory {148488 2022-10-05T00:49:31Z {4001279 Umbire the Phantom} de-SLEX {{Keyboard commands}}
One of the first skills that any player of [[NetHack]] needs to know is how to use the '''inventory'''.

Press {{kbd|i}} to see your inventory, which is a list of all [[item]]s that you carry.

Carrying too many items makes you [[burdened]] or worse. Also, you are limited to 52 stacks of objects (corresponding to 26 uppercase and 26 lowercase inventory letters), a quantity of gold (which will occupy a special slot labeled '$' if necessary), and, if you pick one up while your inventory is otherwise full, a [[load stone]] in a special slot labeled '#,' even if you are [[strength|strong]] or the objects all have low [[weight]]. If you find a [[bag]], then you can hold more items.

The [[fixinv]] option, which by default is on, causes you to remember the inventory letter of an object that you [[drop]].

==Implicit inventory items==
In addition to those items listed with the {{kbd|i}} command, the hero is assumed to be carrying a wallet or [[purse]] (examinable with the {{kbd|$}} command) and a backpack ("A <foo> crawls out of your backpack!") or knapsack ("Your knapsack cannot accommodate any more items.").

The wallet and backpack/knapsack are among the more remarkable objects in NetHack, even though so little is said about them that they go unnoticed by many players. They are utterly impervious to [[fire]], [[shock]], [[Erosion|rotting]], [[Curse|cursing]], or any other kind of degradation. Whatever weight they may have is a matter for speculation only, as they can never be dropped. More worrisome, these items cannot be greased to prevent water damage to their contents, as can any other [[Container#Sack|sack]]. However, the backpack can be [[Stealing from shops#Shopkeeper prevention|taken by a shopkeeper]]; mysteriously, the character still has a backpack afterwards.

The carrying capacity of all containers in NetHack is a subject to inspire much wonder, but the knapsack is perhaps most striking of all containers in this regard: it is capable of holding 52 distinct ''stacks'' of items, without regard to how many items are in each stack. If a player were able to contrive to have 52 distinct versions of, say, scrolls, that would be the complete carrying capacity of the knapsack. But, strength allowing, a player could carry one stack containing 52 copies of a single scroll (of known [[beatitude]]), and still have room in the knapsack for 51 other stacks of items. A most remarkable container!

===Pants===
It is a popular myth that NetHack characters do not wear pants. However, #[[sit]]ting on a [[cockatrice]] corpse does not turn you to stone, so clearly the hero is wearing some form of pants, trousers or boxer shorts. Veteran roleplayers of TSR's Dungeons and Dragons are familiar with indestructible underwear that is impossible to remove. This tidbit does make them feel right at home in the dungeons of NetHack... until their first encounter with a Foocubus, of course.

===Source of fire===
Nethack characters can easily light [[lamp]]s and candles, so it is implied they have some way to make fire. Torches shouldn't last a whole game, unless [[you]] carry a large stack or make new ones out of the fat and clothes of slain monsters. [[Tourist]]s may have a gas lighter. [[Archeologist]]s are probably heavy smokers (like all [[fedora]]-wearing Americans in the 30's) and have a lit cigarette in addition to a petrol lighter or matches. Medieval roles like [[Knight]] or [[Samurai]] may have matches or some other chemical way to make fire. [[Caveman|Cavemen]] may have some extra [[flintstone]]s and some dried sponge or mushroom, like the famous caveman [http://en.wikipedia.org/wiki/%C3%96tzi Ötzi]. [[Barbarian]]s, who have already invented metal, may have the same kit with an additional fire steel, which makes usage of flintstones much faster. Spellcasters may know some extra fire spell. All in all it's a wonder how characters can light the [[Candelabrum of Invocation]] in one move.

==See also==
* [[Encumbrance]] -- carrying too much slows you down
* [[Monster starting inventory]]
* [[Offensive item]]
* [[Adjust]], the command to change inventory letters

[[Category:Commands]]
[[Category:User interface]]
{{nethack-361}}}
&&%s&& %s WikiNode {257 2006-01-06T02:14:22Z {458 Kernigh} #redirect [[Project:WikiNode]] #redirect [[Project:WikiNode]]}
&&%s&& %s You {21006 2007-05-23T15:04:41Z {0 } Undo revision 21000 by [[Special:Contributions/124.197.50.143]] ([[User talk:124.197.50.143]]). Vandal B. Gone. #REDIRECT [[Player]]}
&&%s&& %s NethackWiki {53929 2010-11-11T14:33:39Z {831 Tjr}  #redirect [[NetHackWiki:About]]}
&&%s&& %s MediaWiki:Monobook.css {53804 2010-11-10T21:14:31Z {366 Ilmari Karonen} make topicons work in Monobook too /* Edit this file to customize the monobook skin for the entire site. Note that some skin-independent things go in [[MediaWiki:Common.css]] instead. <pre> */

/* Display text below main article header, located at MediaWiki:tagline */
#siteSub {
    display: inline;
    font-size: 90%;
    font-weight: normal;
    font-style: italic;
}

/* For positioning icons at top-right; copied from http://en.wikipedia.org/w/index.php?title=MediaWiki:Monobook.css&oldid=393681666 */
div.topicon {
    position: absolute; 
    z-index: 10; 
    top: 10px;
    display: block !important;
}

/* </pre> */}
&&%s&& %s MediaWiki:Monobook.js {56089 2010-11-11T19:33:15Z {831 Tjr} Text replace - "Wikihack" to "NetHackWiki" /* '''NetHackWiki JavaScript'''

"Tooltips and access keys" come from the MediaWiki default.

"Supress header on Main Page" and "Toggle stuff" is mostly taken from [http://en.wikipedia.org/wiki/MediaWiki:Monobook.js Wikipedia's Monobook.js] with some help from [http://www-128.ibm.com/developerworks/web/library/wa-ie2mozgd/ IBM developerWorks]; some parts inspired or merged from other Wikia Monobook.js scripts at [http://inheritance.wikia.com/wiki/MediaWiki:Monobook.js Inheriwiki] and [http://oberin.wikia.com/wiki/MediaWiki:Monobook.js OberinWiki].

<pre> */

/* tooltips and access keys */
ta = new Object();
ta['pt-userpage'] = new Array('.','My user page');
ta['pt-anonuserpage'] = new Array('.','The user page for the ip you\'re editing as');
ta['pt-mytalk'] = new Array('n','My talk page');
ta['pt-anontalk'] = new Array('n','Discussion about edits from this ip address');
ta['pt-preferences'] = new Array('','My preferences');
ta['pt-watchlist'] = new Array('l','The list of pages you\'re monitoring for changes.');
ta['pt-mycontris'] = new Array('y','List of my contributions');
ta['pt-login'] = new Array('o','You are encouraged to log in, it is not mandatory however.');
ta['pt-anonlogin'] = new Array('o','You are encouraged to log in, it is not mandatory however.');
ta['pt-logout'] = new Array('o','Log out');
ta['ca-talk'] = new Array('t','Discussion about the content page');
ta['ca-edit'] = new Array('e','You can edit this page. Please use the preview button before saving.');
ta['ca-addsection'] = new Array('+','Add a comment to this discussion.');
ta['ca-viewsource'] = new Array('e','This page is protected. You can view its source.');
ta['ca-history'] = new Array('h','Past versions of this page.');
ta['ca-protect'] = new Array('=','Protect this page');
ta['ca-delete'] = new Array('d','Delete this page');
ta['ca-undelete'] = new Array('d','Restore the edits done to this page before it was deleted');
ta['ca-move'] = new Array('m','Move this page');
ta['ca-watch'] = new Array('w','Add this page to your watchlist');
ta['ca-unwatch'] = new Array('w','Remove this page from your watchlist');
ta['search'] = new Array('f','Search this wiki');
ta['p-logo'] = new Array('','Main Page');
ta['n-mainpage'] = new Array('z','Visit the Main Page');
ta['n-portal'] = new Array('','About the project, what you can do, where to find things');
ta['n-currentevents'] = new Array('','Find background information on current events');
ta['n-recentchanges'] = new Array('r','The list of recent changes in the wiki.');
ta['n-randompage'] = new Array('x','Load a random page');
ta['n-help'] = new Array('','The place to find out.');
ta['n-sitesupport'] = new Array('','Support us');
ta['t-whatlinkshere'] = new Array('j','List of all wiki pages that link here');
ta['t-recentchangeslinked'] = new Array('k','Recent changes in pages linked from this page');
ta['feed-rss'] = new Array('','RSS feed for this page');
ta['feed-atom'] = new Array('','Atom feed for this page');
ta['t-contributions'] = new Array('','View the list of contributions of this user');
ta['t-emailuser'] = new Array('','Send a mail to this user');
ta['t-upload'] = new Array('u','Upload images or media files');
ta['t-specialpages'] = new Array('q','List of all special pages');
ta['ca-nstab-main'] = new Array('c','View the content page');
ta['ca-nstab-user'] = new Array('c','View the user page');
ta['ca-nstab-media'] = new Array('c','View the media page');
ta['ca-nstab-special'] = new Array('','This is a special page, you can\'t edit the page itself.');
ta['ca-nstab-project'] = new Array('a','View the project page');
ta['ca-nstab-image'] = new Array('c','View the image page');
ta['ca-nstab-mediawiki'] = new Array('c','View the system message');
ta['ca-nstab-template'] = new Array('c','View the template');
ta['ca-nstab-help'] = new Array('c','View the help page');
ta['ca-nstab-category'] = new Array('c','View the category page');

/* </pre>
<pre> */

/*
 * Suppress header on Main Page
 */
if( document && document.title && document.URL &&
    (document.title.indexOf("Main Page - NetHackWiki") == 0))
(function() {
    var url = document.URL + "&";
    var index = url.indexOf( "action=" );
    var action = "view";
    if( index >= 0 )
        action = url.substring( index + 7, url.indexOf( "&", index + 8 ));
    if( action == "view" )
        document.write('<style type="text/css">/*<![CDATA[*/ #siteSub, h1.firstHeading { display: none !important; } /*]]>*/</style>');
})( /* call anonymous function */ );

/* </pre>
<pre> */

/* Toggle stuff */

// adds show/hide-button to navigation bars
function
createShowHideButtons() {
    var indexNavigationBar = 0;
    // iterate over all < div >-elements
    for(
        var i=0; 
        NavFrame = document.getElementsByTagName("div")[i]; 
        i++
    ) {
        // if found a basic monster div
        if( NavFrame.className == "NavFrame" ) {
            indexNavigationBar++;

            var NavToggleS = document.createElement( "a" );
//            NavToggleS.className = 'monstershow';
//            NavToggleS.setAttribute( 'id', 'monstershow' + indexNavigationBar );
            NavToggleS.setAttribute( 'href', 'javascript:monstershow(' + indexNavigationBar + ');' );
            var NavToggleSText = document.createTextNode( 'Show details' );
            NavToggleS.appendChild( NavToggleSText );

            var NavToggleH = document.createElement( "a" );
//            NavToggleH.className = 'monsterhide';
//            NavToggleH.setAttribute( 'id', 'monsterhide' + indexNavigationBar );
            NavToggleH.setAttribute( 'href', 'javascript:monsterhide(' + indexNavigationBar + ');' );
            var NavToggleHText = document.createTextNode( 'Hide details' );
            NavToggleH.appendChild( NavToggleHText );

            /*
             * Find the span and attach the toggle link
             * (Must be this complicated because Moz's firstChild handling is borked)
             */
             for(
                 var j=0; 
                 ToggleSpan = NavFrame.getElementsByTagName("span")[j]; 
                 j++
             ) {
                 if (ToggleSpan.className == "monstershow") {
                     ToggleSpan.appendChild(NavToggleS);
                 }
                 if (ToggleSpan.className == "monsterhide") {
                     ToggleSpan.appendChild(NavToggleH);
                 }
             }
             NavFrame.setAttribute('id', 'NavFrame' + indexNavigationBar);
             monsterhide(indexNavigationBar);
        } // end if NavFrame.className == "NavFrame"
    } // end for all < div >
}

function
monstershow( id ) {
    NavFrame = document.getElementById( 'NavFrame' + id );
    for(
        var j=0; 
        j < NavFrame.childNodes.length; 
        j++
    ) {
        if ( NavFrame.childNodes[j].className == "monsterbasic" ) {
            NavFrame.childNodes[j].style.display = 'none';
        }
        if ( NavFrame.childNodes[j].className == "monsterfull" ) {
            NavFrame.childNodes[j].style.display = 'block';
        }
    } // end for
}

function monsterhide( id )
{
    NavFrame = document.getElementById( 'NavFrame' + id );
    for(
        var j=0; 
        j < NavFrame.childNodes.length; 
        j++
    ) {
        if ( NavFrame.childNodes[j].className == "monsterbasic" ) {
            NavFrame.childNodes[j].style.display = 'block';
        }
        if ( NavFrame.childNodes[j].className == "monsterfull" ) {
            NavFrame.childNodes[j].style.display = 'none';
        }
    } // end for
}

// call MediaWiki's addOnloadHook to run function after document loads
addOnloadHook( createShowHideButtons );

ta['ca-nstab-forum'] = new Array('c','View the forum page');

/* </pre> */}
&&%s&& %s MediaWiki:Help {9489 2006-09-02T21:07:46Z {458 Kernigh} Change to "How to help", should affect [[MediaWiki:Sidebar]]. How to help}
&&%s&& %s MediaWiki:Helppage {54014 2010-11-11T18:06:25Z {831 Tjr} Text replace - "NethackWiki" to "NetHackWiki" NetHackWiki:How to help}
&&%s&& %s MediaWiki:Sidebar {76161 2012-02-05T08:54:05Z {630 Paxed} test * navigation
** mainpage|NetHack Wiki
** Forum:Watercooler|Forum
** portal-url|portal
** recentchanges-url|recentchanges
** randompage-url|randompage
* Popular pages
** Dungeon_feature|Dungeon features
** Monster#Canonical_list_of_monsters|Monsters
** Property#Intrinsic_properties|In/Extrinsics
** Item|Items
** Spellbook#List_of_spellbooks|Spells
** Options|Game options
** Websites|Websites
* contributing
** NetHackWiki:Style guide|Style guide
** helppage|help
** NetHackWiki:Current projects|Current projects}
&&%s&& %s Roguelike {82253 2013-01-14T17:00:48Z {4000180 Bcode} various changes in wording, updated see also section {{wikipedia|Roguelike}}
A '''roguelike''' computer game is one that resembles ''[[Rogue (game)|Rogue]]''. See [[Gameinfo:Roguelike]].

The original ''Rogue'' game featured a thief who entered the dungeon to steal the [[Amulet of Yendor]]. A free clone called ''[[Hack]]'' retained the Amulet, but introduced some features including a pet [[dog]] and multiple [[role]]s ([[class]]es). The six roles in ''Hack'' are [[Tourist]], [[Speleologist]], [[Barbarian|Fighter]], [[Knight]], [[Cave-man]], and [[Wizard]].

The game ''[[NetHack]]'' has added several features to ''Hack'', including both the [[Rogue]] class and the [[Rogue level]].

== List of roguelike games ==
* ''[[Rogue (game)|Rogue]]''
** ''Moria''
*** ''Umoria''
*** ''[[Angband]]''
**** ''ZAngband''
**** ''ToME'': ''Troubles/Tales of Middle Earth''
**** ''MAngband''
**** ...and so many other Angband variants
** ''[[Linley's Dungeon Crawl]]''
*** ''Dungeon Crawl Stone Soup''
** ''[[Hack]]''
*** ''[[NetHack]]''
**** ''[[SLASH'EM]]'' - ''Super Lotsa Added Stuff Hack - Extended Magic''
**** ''[[SporkHack]]''
**** ''[[NetHack brass]]''
**** [http://nethack-users.sourceforge.jp/ ''JNetHack''] - Japanese derivative of ''NetHack''. The older version (based on ''NetHack ''3.2.2) by Issei Numata is [http://www.jnethack.org/ here]. In addition, beta versions of [http://jslashem.sourceforge.jp/ ''JSLASH'EM''] is also available now.
**** [http://spanish-nethack.sourceforge.net/ ''Nethack en Español''] - ''NetHack'' translated into Spanish.
**** see other [[Variant]]s derived from Nethack on a separate page
**''The Caves of [[Larn]]''
***''Ultra Larn''
** ''Omega''
** ''[[ADOM]]'': ''Ancient Domains Of Mystery''
** ''IVAN'': ''Iter Vehemens ad Necem''
** ''Mysterious Dungeon'' - A long-running series of commercial roguelikes.
** ''Dwarf Fortress''
** ''POWDER''
** ''[[Brogue]]''

Though ''Diablo'' borrowed much from the roguelike genre, it is not usually considered a roguelike itself. [http://diablo.chaosforge.org/ There is a roguelike based on it, however.]

RogueBasin also has a more complete [[roguebasin:Category:Roguelike games|list of roguelikes]].

== See also ==
* [[NetHack]]
* the list of NetHack [[variants]]
* [[Angband]]
* [[Dungeon Crawl Stone Soup]]

{{noversion}}
[[Category:Roguelikes| ]]}
&&%s&& %s Sokoban {149218 2022-12-08T12:15:07Z {4001279 Umbire the Phantom} good night {{wikipedia}}
{{level|Sokoban levels
 |branch=Sokoban
 |from=2|to=9
 |teleport=no
 |bones=no
 |mapping=yes
 |digfloor=all but bottom level
 |digwalls=no
}}

In ''[[NetHack]]'', '''Sokoban''' (''warehouse keeper'' in Japanese) is a [[branch]] of the dungeon modeled on and named after a game where a character is navigated through a series of levels. The object is to move objects to cover goal squares. In the traditional ''Sokoban'' game, the character must move only in the cardinal directions (north, south, east, and west) and push the objects from behind to move them. A player fails by getting objects stuck or boxing themselves in, as objects cannot be pulled, created, or destroyed.

==Description==
In the case of ''NetHack'', the objects are [[boulder]]s and the goal squares are [[pit]]s or [[hole]]s, which block the way forward. There are four levels in each game and two versions of each, for a total of 8 different levels. The levels are ascending in dungeon depth (i.e., the 2nd level is above the 1st etc); however, monster difficulty increases as if descending to lower dungeon levels. 

NetHack Sokoban is further complicated by the presence of [[monster]]s in the puzzles, so some concessions have been made. While diagonal moves of the boulders are not allowed, although the player may move diagonally if there is space to do so, and may also attack, fire or cast spells diagonally. It is possible to fire or cast spells through boulders as well, with the exception of {{spell of|force bolt}} or a [[wand of striking]]; it is also possible to create or destroy boulders, and there is a limited possibility of moving over boulders, but [[Luck]] penalties are assessed for each offense.

At the end of the Sokoban dungeon branch is a [[treasure zoo]] guarding a [[bag of holding]] or [[amulet of reflection]] with an equally likely chance.{{refsrc|dat/sokoban.des|530|version=NetHack 3.6.6}}{{refsrc|dat/sokoban.des|631|version=NetHack 3.6.6}}) The prize sits on a burnt [[Elbereth]] and a cursed [[scroll of scare monster]]. Both items follow the normal rules of generation for each - i.e., the amulet of reflection will have the same odds of being generated blessed, uncursed or cursed as any randomly generated amulet, while the bag of holding is always uncursed.{{refsrc|src/mkobj.c|892|version=NetHack 3.6.1}}{{refsrc|src/mkobj.c|939|version=NetHack 3.6.1}}

If playing with text mode, you might want to change the [[Options#boulder|boulder symbol]] to {{lightgray|0}}.

{{upcoming|NetHack 3.7.0|Both prizes are no longer equally likely for each floor. Instead, floor 4a has a 75% chance for a bag of holding, and 4b has a 75% chance for an amulet of reflection.}}

==Level descriptions==
The entrance to Sokoban (an upstairs [[staircase]]) is located between levels 6 and 10 inclusive in the [[Dungeons of Doom]], just below the [[Oracle]]. Adventurers who die in Sokoban will not leave [[bones]]. All walls in Sokoban are undiggable and unphasable; the floor is undiggable only on the first level. All levels are no-teleport, and it is impossible for the player to level-teleport between Sokoban levels.

On each level, there is one randomly chosen ring, one randomly chosen wand, and four (stacks of) food items. Each level is fully mapped upon arrival. However, if you enter while [[hallucinating]], the boulders, traps, and other items will appear as you would normally perceive things while hallucinating.

{{upcoming|NetHack 3.7.0|Special levels, including Sokoban, may be flipped horizontally and/or vertically.}}

{|class="prettytable"
!
!a
!b
|-
!1
|valign=top| [[Sokoban Level 1a]]<br>
<div class=ttymap>{{lightgray|<replacecharsblock>
<=[[staircase|{{lightgray|<}}]]
>=[[staircase|{{lightgray|>}}]]
newline=<br>
|=&#124;
-=&#45;
 =&nbsp;
0=[[boulder|{{lightgray|0}}]]
^=[[pit|{{black|^}}]]
?=[[scroll of earth|{{white|?}}]]

-------- ------
|<|>...---....|
|^|-.00....0..|
|^||..00|.0.0.|
|^||....|.....|
|^|------0----|
|^|    |......|
|^------......|
|..^^^^0000...|
|??-----......|
----   --------
</replacecharsblock>}}</div>
|valign=top| [[Sokoban Level 1b]]<br>
<div class=ttymap>{{lightgray|<replacecharsblock>
<=[[staircase|{{lightgray|<}}]]
>=[[staircase|{{lightgray|>}}]]
newline=<br>
|=&#124;
-=&#45;
 =&nbsp;
0=[[boulder|{{lightgray|0}}]]
^=[[pit|{{black|^}}]]
@={{white|@}}
?=[[scroll of earth|{{white|?}}]]


 ------  ----- 
 |....|  |...| 
 |.0..----.0.| 
 |.0......0..| 
 |..--->---0.| 
 |---------.---
 |..^^^<|.....|
 |..----|0....|
 --^|   |.0...|
  |^-----.0...|
  |..^^^^0.0..|
  |??----------
  ----         
</replacecharsblock>}}</div>
|-
!2
|valign=top| [[Sokoban Level 2a]]<br>
<div class=ttymap>{{lightgray|<replacecharsblock>
<=[[staircase|{{lightgray|<}}]]
>=[[staircase|{{lightgray|>}}]]
newline=<br>
|=&#124;
-=&#45;
 =&nbsp;
0=[[boulder|{{lightgray|0}}]]
^=[[hole|{{brown|^}}]]
@={{white|@}}
?=[[scroll of earth|{{white|?}}]]

  ----          -----------
 --.>--------   |.........|
 |..........|   |.........|
 |.0-----0-.|   |.........|
 |..|...|.0.|   |....<....|
 |.0.0....0-|   |.........|
 |.0..0..|..|   |.........|
 |.----0.--.|   |.........|
 |..0...0.|.--  |.........|
 |.---0-...0.------------+|
 |...|..0-.0.^^^^^^^^^^^^.|
 |..0......----------------
 -----..|..|               
     -------               
</replacecharsblock>}}</div>
|valign=top| [[Sokoban Level 2b]]<br>
<div class=ttymap>{{lightgray|<replacecharsblock>
<=[[staircase|{{lightgray|<}}]]
>=[[staircase|{{lightgray|>}}]]
newline=<br>
|=&#124;
-=&#45;
 =&nbsp;
0=[[boulder|{{lightgray|0}}]]
^=[[hole|{{brown|^}}]]
@={{white|@}}
?=[[scroll of earth|{{white|?}}]]

 -----------       -----------
 |....|....---     |.........|
 |..00|00...>|     |.........|
 |.....0...---     |.........|
 |....|....|       |....<....|
 |-.---------      |.........|
 |..0.|.....|      |.........|
 |.00.|0.0.0|      |.........|
 |..0.....0.|      |.........|
 |.000|0..0.----------------+|
 |....|..0.0.^^^^^^^^^^^^^^^.|
 -----------------------------
</replacecharsblock>}}</div>
|-
!3
|valign=top| [[Sokoban Level 3a]]<br>
<div class=ttymap>{{lightgray|<replacecharsblock>
<=[[staircase|{{lightgray|<}}]]
>=[[staircase|{{lightgray|>}}]]
newline=<br>
|=&#124;
-=&#45;
 =&nbsp;
0=[[boulder|{{lightgray|0}}]]
^=[[hole|{{brown|^}}]]
@={{white|@}}
?=[[scroll of earth|{{white|?}}]]

   --------          
 ---.|....|          
 |...0....|----------
 |.-.00-00|.|.......|
 |.00-......|.......|
 |.-..0.|...|.......|
 |....-0--0-|...<...|
 |..00..0...|.......|
 |.--...|...|.......|
 |....-0|---|.......|
 ---..0.-----------+|
   |..0>^^^^^^^^^^^.|
   ------------------
</replacecharsblock>}}</div>
|valign=top| [[Sokoban Level 3b]]<br>
<div class=ttymap>{{lightgray|<replacecharsblock>
<=[[staircase|{{lightgray|<}}]]
>=[[staircase|{{lightgray|>}}]]
newline=<br>
|=&#124;
-=&#45;
 =&nbsp;
0=[[boulder|{{lightgray|0}}]]
^=[[hole|{{brown|^}}]]
@={{white|@}}
?=[[scroll of earth|{{white|?}}]]


 --------------------
 |........|...|.....|
 |.00..-00|.-.|.....|
 |..|.0.0.|00.|.....|
 |-.|..-..|.-.|..<..|
 |...--.......|.....|
 |...|.0.-...-|.....|
 |.0.|0.|...--|.....|
 |-0.|..-----------+|
 |..0....^^^^^^^^^^.|
 |...|.>-------------
 --------            
</replacecharsblock>}}</div>
|-
!4
|valign=top| [[Sokoban Level 4a]]<br>
<div class=ttymap>{{lightgray|<replacecharsblock>
<=[[staircase|{{lightgray|<}}]]
>=[[staircase|{{lightgray|>}}]]
newline=<br>
|=&#124;
-=&#45;
 =&nbsp;
0=[[boulder|{{lightgray|0}}]]
^=[[hole|{{brown|^}}]]
@={{white|@}}
?=[[scroll of earth|{{white|?}}]]
+=[[door|{{brown|+}}]]

 --------------------------
 |>......^^^^^^^^^^^^^^^^.|
 |.......----------------.|
 -------.------         |.|
  |...........|         |.|
  |.0.0.0.0.0.|         |.|
 --------.----|         |.|
 |...0.0..0.0.|         |.|
 |...0........|         |.|
 -----.--------   ------|.|
  |..0.0.0...|  --|.....|.|
  |.....0....|  |.+.....|.|
  |.0.0...0.--  |-|.....|.|
 -------.----   |.+.....+.|
 |..0.....|     |-|.....|--
 |........|     |.+.....|  
 |...------     --|.....|  
 -----            -------  
</replacecharsblock>}}</div>
|valign=top| [[Sokoban Level 4b]]<br>
<div class=ttymap>{{lightgray|<replacecharsblock>
<=[[staircase|{{lightgray|<}}]]
>=[[staircase|{{lightgray|>}}]]
newline=<br>
|=&#124;
-=&#45;
 =&nbsp;
0=[[boulder|{{lightgray|0}}]]
^=[[hole|{{brown|^}}]]
@={{white|@}}
?=[[scroll of earth|{{white|?}}]]
+=[[door|{{brown|+}}]]

   ------------------------
   |..^^^^^^^^^^^^^^^^^^..|
   |..-------------------.|
 ----.|    -----        |.|
 |..|0--  --...|        |.|
 |.....|--|.0..|        |.|
 |.00..|..|..0.|        |.|
 --..00|...00.--        |.|
  |0..0...|0..|   ------|.|
  |.00.|..|..0| --|.....|.|
  |.0.0---|.0.| |.+.....|.|
  |.......|..-- |-|.....|.|
  ----.0..|.--  |.+.....+.|
     ---.--.|   |-|.....|--
      |.0...|   |.+.....|  
      |>.|..|   --|.....|  
      -------     -------  
</replacecharsblock>}}</div>
|}

==Sokoban and Luck==
It is possible to solve every Sokoban level just by moving boulders around in the normal fashion. However, there are some actions that are legal in NetHack but cheat the Sokoban mini-game in some way. Whenever you perform such an action, your [[Luck]] is penalized, unless you have already filled in all of the original holes to complete the level. Assuming the level is still unsolved, the following actions incur penalties of -1 when done in Sokoban:

*Jumping. (To avoid the penalty, press Escape when prompted where you want to jump.)
*Breaking a boulder.
*Squeezing past a boulder (or walking over one, when polymorphed into a giant).
*Casting stone-to-flesh on a boulder.
*Polymorphing a boulder.
*Reading a scroll of earth.
*Being pulled by a thrown iron ball.
*Hurtling through the air due to Newton's 3rd Law (i.e. throwing something while levitating).

{{upcoming|NetHack 3.7.0|Jumping, being pulled by a thrown iron ball, and hurtling no longer cause a Luck penalty (since they don't actually allow you to move diagonally).}}

The following actions do ''not'' incur a Luck penalty when done in Sokoban:

* Teleporting a boulder (though this may move the boulder somewhere odd).
* Falling into a hole or pit.
* Polymorphing a statue into a boulder.
* Carrying in a boulder while in [[giant]] form, and then dropping it.
* Digging your own pit or hole, or filling it with boulders.

==Strategy==
The articles about the individual levels contain a full solution to all the levels; this section contains more general strategy tips.

===Puzzle===
* Think ahead. The entire level is mapped, and all the levels are solvable without "cheating", barring some unfortunate monster generation.
* If you want to try out something, push the boulders only in ways you can undo&mdash;never create a square of four boulders, or two neighbors against a wall.
* Be careful; a typo may render a boulder immobile against the wall. Try to move diagonally or with the [[Travel|goto-key (underscore)]] whenever possible, as these commands will not push a boulder.
* If a pit is open, falling through it to the level below lets you get back to the stairs. This can be useful in certain situations where a boulder is pushed the wrong way.
* [[Polymorph]]ing into a creature with the [[phasing]] ability will not help. Instead, you get the message "The Sokoban walls resist your ability."
* Remember, not all of the boulders have to be used, but also remember to keep enough to fill all the pits.
* You can use a text editor or grid paper to try to work out the solutions before actually attempting them in-game.

===Monster-puzzle interaction===
* Check whether there are monsters in front of the pits.
* Use a magic whistle for pets, or leave them behind one level, and visit their level every 74 turns or less to avoid them losing tameness points. Alternatively, known-cursed items can help keep pets out of the pit area.
* Be aware of mimics imitating boulders. Unlike real boulders, mimics will not appear until they are in your line of sight, but a space containing a boulder may also contain a mimic mimicking a boulder, if that makes sense. You can move diagonally between mimicked boulders.

===Stuck boulders===
* If you must take a Luck penalty, do so as early as possible. Put away any [[gray stone]]s that might be [[luckstone]]s, unless you are sure that your natural Luck is positive. The sooner you take that Luck penalty, the more likely it will have timed out the next time you encounter a critical Luck-influenced event, such as needing to [[pray]].
* If you mistakenly moved a boulder between yourself and the stairs from the previous level, dig down to create a hole and fall through (no penalty). Be sure to choose a safe place to dig. You may wish to use a spare boulder to fill the hole afterward.
* Destroy a boulder with a [[pick-axe]], {{spell of|force bolt}}, or [[wand of striking]] (Luck penalty). Be careful not to destroy too many boulders.
* Drop everything in your inventory (including armor) and squeeze into the same square as a boulder. This will help you separate boulders stuck together, but not a boulder stuck against a wall. This way, you can also kill monsters trapped between boulders and holes which block the way (Luck penalty).
* [[Polymorph]] into a [[giant]] and step over boulders (Luck penalty). You still cannot lift them, however; neither can monsters.
* Summon more boulders with a [[scroll of earth]] (Luck penalty). Two scrolls can be found on the first Sokoban level. A non-cursed scroll will summon multiple boulders, possibly making the situation worse.
* Drop a wand of striking so that a monster picks it up, and position yourself between that monster and the boulder you want destroyed, in hopes that the monster will destroy the boulder for you; this incurs no Luck penalty.
* If the boulder is stuck because of a monster behind it, shoot [[projectile]]s or spells past the boulder to kill the monster. Be sure the monster in question is not peaceful - note that no peaceful humans can be generated in Sokoban.
** An [[aklys]] is the ideal choice, as it returns to your hand for repeated throwing, and can easily be obtained from the [[gnome (monster)|gnomes]] in the [[Gnomish Mines|Mines]]. Note that there's a 1% chance of it failing to return, so have a spare or some other solution available.
** If the monster is a coaligned [[unicorn]], you risk a large Luck penalty for killing it; if you determine by whatever means that the monster is a coaligned unicorn, you can toss gems to it to compensate for the inevitable Luck hit. Sokoban is no-teleport, so the unicorn cannot leave of its own accord. Also, you cannot kill unicorns with rocks, an easily accessible missile weapon.
** Force bolts and the wand of striking will destroy boulders, but other methods are safe. [[Pacifist]]s may want to strip naked and [[displace]] their [[pet]] onto the [[boulder]]. If you have a [[magic whistle]], you can stand next to the boulder and apply the whistle until your pet appears on the other side of the boulder. Let your pet kill the obstructing monster and then use the whistle to get them out of the way.
* Hit the boulder with a [[wand of teleport]] (no Luck penalty) after you finish as many other boulders as possible. While the new location may not be better than the old one, it often can't be much worse.
