
Casting [[stone to flesh]] on his statue will revive him as a named [[player monster]], much like any other statue. As with any historic statue, an [[Archeologist]] breaking it will suffer a &minus;1 [[alignment record|alignment]] penalty.

==Generation==
The statue of Perseus appears in all versions of Medusa's domain, with his location dependent on the version and tied to the down [[stairs]] location. Two versions of the isle have the statue occupy the same tile as both Medusa and the down stair; the other two have three (or four) eligible squares for Medusa and the down stair to appear on, and his statue will appear on one of the remaining squares.

The statue of Perseus can contain the following items, each with an independent chance of being present:{{refsrc|dat/medusa.des|56|version=NetHack 3.6.6}}{{refsrc|dat/medusa.des|155|version=NetHack 3.6.6}}{{refsrc|dat/medusa.des|273|version=NetHack 3.6.6}}{{refsrc|dat/medusa.des|373|version=NetHack 3.6.6}}

* A 75% chance of a cursed +0 shield of reflection, or a 25% chance in the second version
* A 25% chance of a +0 pair of [[levitation boots]], or a 75% chance in the second version
* A 50% chance of a blessed +2 [[scimitar]]
* A 50% chance of a [[sack]]

==Strategy==
Perseus's statue is often broken for a source of reflection by players who manage to kill Medusa without one, or else plan to pilfer the statue before taking her on. He can also potentially provide a source of [[levitation]], either for [[Elemental Planes|later points of the game]] or for crossing Medusa's island freely (e.g. after [[digging]] past). The [[raven]]-filled variant of Medusa's island is likely to have the statue on a different island from Medusa herself, making it much less ideal for those who lack most other means of crossing.

[[Medusa#Strategy|The usual strategies]] for facing Medusa with and without reflection apply in any event; be sure to have your means of reflection and/or blinding actually readied and equipped, or you may well [[petrification|end up like Perseus]].

==Origin==
{{Wikipedia|Perseus}}
The items found in the statue each reflect some of the actual tools the mythological Perseus was gifted for the task of killing Medusa: Zeus gave him a set of winged sandals and an adamantine ''[[Wikipedia:harpe|harpe]]'' (a sword with a sickle or scythe in the blade, hence the scimitar); the polished shield was a gift from Athena that would allow him to safely view Medusa; and the Hesperides gave him a knapsack (''kibisis'') with which to safely contain Medusa's head as well. Said sack would serve as the inspiration for the [[Wallet of Perseus]] in [[SLASH'EM]] and the [[Bag of the Hesperides]] in [[EvilHack]].

== FIQHack ==
In [[FIQHack]], the statue of Perseus is guaranteed to contain a [[shield of reflection]] and a pair of [[levitation boots]].

==Encyclopedia entry==
{{encyclopedia-redirect|Medusa}}

==References==
<references/>
{{nethack-366}}
[[Category:Items]]}
&&%s&& %s Stone to flesh {7251 2006-08-14T21:34:43Z {396 Jayt} Redirecting to [[Spellbook of stone to flesh]] #REDIRECT [[spellbook of stone to flesh]]}
&&%s&& %s Spellbook of stone to flesh {131630 2020-01-28T17:18:41Z {4001279 Umbire the Phantom} /* History */ {{spellbook|name=stone to flesh|level=3|type=healing|turns=2|direction=beam|abundance=1.52%}}

In ''[[NetHack]]'', the '''spellbook of stone to flesh''' allows you to cast the '''spell of stone to flesh'''.

==Generation==
[[Healer]]s are guaranteed to start with a blessed spellbook of stone to flesh.

==Effects==
The spell of stone to flesh has many effects depending on what stone object(s) it is used on.

===Statues===
[[Statues]] of monsters are brought to life; tame pets turned to stone will be restore it to their original state. Additionally, if the monster is smaller than medium [[size]] and/or not [[fleshy]], the statue will be turned into a single [[meatball]] instead.{{refsrc|zap.c|1623}} If the statue is of a unique monster or a quest guardian, it will reanimate as a disguised [[doppelganger]] instead of the real creature, unless the statue was created by stoning that creature.

If the reanimation fails (usually because the creature is of a [[genocide]]d species), the statue will be transformed into an appropriate corpse if possible, or remain unchanged if that monster cannot leave a corpse. 

A statue of a [[stone golem]] that has stone to flesh cast on it will only leave behind a single meatball; an animate stone golem will instead become a [[flesh golem]].

===Other objects===
Casting stone to flesh on a [[boulder]] turns it into a [[huge chunk of meat]]; [[rock]]s, [[gray stone]]s, and valuable non-[[glass]] [[gems]] become [[meatball]]s. A [[ring]] made of [[mineral]] or [[gemstone]] material becomes a [[meat ring]]; a marble [[wand]] becomes a [[meat stick]].

===Targeting yourself===
When cast on yourself, any ongoing [[stiffening]] process is cancelled, and any susceptible items in open inventory are transformed as well.

==Strategy==
The spell of stone to flesh is a great aid for spellcasters who start with little permafood, particularly Healers, who start with only a few [[apple]]s and can reliably cast the spell once they reach level 3. One huge chunk of meat produced from a boulder will keep a character [[satiated]] for several hundreds of turns; even if they cannot secure some permafood by the time they go from oversatiated to normal nutrition levels, they are more than likely to come across another boulder. Beware of eating anything else while oversatiated, however, as the risk of choking will be too great; a [[tinning kit]] is handy to preserve corpses with good [[intrinsic]]s for later.

In addition, the spell can be used as a general means of boulder removal; doing so in [[Sokoban]] is a viable strategy for trapped boulders, but incurs a -1 [[Luck]] penalty. If you do not particularly need nutrition, you can let your pet eat the resulting chunk of meat, or else break the boulder beforehand and then cast the spell at the pile of rocks. This turns them into [[meatball]]s, which can be used as treats to [[tame]] or train carnivorous pets. [[Polypiling]] the meatballs into other food items, especially lightweight [[lembas wafer]]s, is incredibly common and used to ensure permafood for most of the game.

Stone to flesh can save you from petrification, at the risk of affecting your open inventory - while generally undesirable, this is preferable to becoming a statue. Casting stone to flesh can also be used to get rid of undesirable items, such as [[loadstone]]s or cursed rings depending on the type (e.g. a granite ring of [[hunger]] or [[aggravate monster]]). Stashing or else dropping and moving away from any other vulnerable items is recommended; the meat ring can then be eaten to get rid of it, though be wary of the usual effects of eating [[rotten food]].

Stone to flesh is the most common way to rescue a petrified pet. Monsters can be transported by stoning them and then casting stone to flesh on their statue afterward; only medium-size and larger monsters are eligible, however, and most such statues will significantly burden you, or else be too heavy to carry outright. Turning a stone golem into a flesh golem makes it somewhat less threatening, and the corpse can also provide useful intrinsics.

==History==
In [[NetHack 3.6.1]] and previous versions, reanimation fails if the statue was created by stoning and its square is already occupied due to a bug.{{refsrc|zap.c|568|nethack=3.6.1|comment=note the lack of MM_ADJACENTOK}} The bug is fixed as of [[NetHack 3.6.2]].

==Messages==
{{message|Blood pools at your feet.|You cast the spell downwards ('>') while standing on a normal square, sink, fountain, or randomly generated grave. Casting while over a [[bones]] grave does not produce any message. In either case, there is no other effect.}}
{{message|Blood drips on your <face>.|You cast the spell upwards ('<') in a normal level outside of  the [[Endgame]]. (<Face> is adjusted for the appropriate body part if polymorphed.) There is no other effect.}}
{{message|You smell a delicious smell.|Casting the spell turned something to meat (as opposed to animating a statue).}}
{{message|You smell the odor of meat.|As above, except you have been vegetarian.}}

==References==
<references/>

[[Category:Spellbooks|Stone to flesh]]
{{nethack-364}}}
&&%s&& %s Domestic animal {93548 2015-04-17T16:32:27Z {4000596 Train}  {{tocright}}
A '''domestic animal''' is one which can be [[peaceful|pacified]] or [[tame]]d by throwing [[food]] to it. They are:{{refsrc|monst.c|93|comment=Domestic monsters have the <tt>M2_DOMESTIC</tt> flag, which should not be confused with <tt>HI_DOMESTIC</tt>, which simply makes monsters white.}}

* [[Image:kitten.png]] {{monsymlink|kitten}}
* [[Image:housecat.png]] {{monsymlink|housecat}}
* [[Image:large cat.png]] {{monsymlink|large cat}}
* [[Image:little dog.png]] {{monsymlink|little dog}}
* [[Image:dog.png]] {{monsymlink|dog}}
* [[Image:large dog.png]] {{monsymlink|large dog}}
* [[Image:pony.png]] {{monsymlink|pony}}
* [[Image:horse.png]] {{monsymlink|horse}}
* [[Image:warhorse.png]] {{monsymlink|warhorse}}

A [[shapeshifter]] in any of these forms can be tamed with the appropriate food, remaining tame even as it changes forms. 

== Pacifying and taming ==
{{main|Diet#Pets}}

[[Throw]]ing any kind of food &#8212; except an [[egg]] or [[cream pie]] that hits &#8212; at a domestic animal will make it [[peaceful]] and remove any [[fear]] effects, even if it is not something that the animal would normally eat.{{refsrc|dothrow.c|1383}}{{refsrc|mondata.h|190}}{{refsrc|dog.c|756|comment="worst case, at least it'll be peaceful"}}{{reffunc|dog.c|dogfood}} For example, a dog could be made peaceful by throwing a [[carrot]] or a [[lichen]] corpse, and a horse could be made peaceful by throwing a [[food ration]] or a [[gnome (monster)|gnome]] corpse. Even an empty [[tin]] will do.

If the food is considered a [[treat]], a suitable [[corpse]], or any other acceptable food, the animal will become [[tame]] and will eat the food. An untame domestic animal, in evaluating thrown food, is effectively hungry but not starving.{{refsrc|dog.c|808}}{{reffunc|dog.c|dogfood}}

Food sufficient for taming a domestic [[carnivore]] (any cat or dog):
* [[tripe ration]]
* meat [[meat ring|ring]]/[[meat stick|stick]]/[[meatball|ball]]/[[huge chunk of meat|chunk]]
* any safe non-vegan [[corpse]] (unsafe corpses include anything [[acidic]], [[poison]]ous, [[tainted]], [[petrify]]ing, or [[Riders|otherwise deadly]])
* [[egg]] (excluding deadly [[chickatrice]] eggs)&#8212;but only if you miss!
* [[food ration|food]]/[[cram ration|cram]]/[[K-ration|K]]-/[[C-ration|C]]-ration
* [[lembas wafer]]
* [[candy bar]]
* [[pancake]]
* [[lump of royal jelly]]
* [[fortune cookie]]&#8212;it will go unread
* [[cream pie]]&#8212;but only if you miss!

Food sufficient for taming a domestic [[herbivore]] (any horse):
* any fruit&#8212;[[apple]], [[banana]], [[orange]], [[pear]], [[melon]], or [[slime mold]]
* any vegetable&#8212;[[carrot]], [[clove of garlic]], [[kelp frond]], [[eucalyptus leaf]], or [[sprig of wolfsbane]]
* any safe [[vegan]] [[corpse]] (unsafe corpses include anything [[acidic]], [[poison]]ous, or [[tainted]])

Once the animal is [[tame]]d and has become your [[pet]], to promote its continued tameness, health, and good behavior, take care to feed it according to its [[diet]]. This is especially important for horses, for whom suitable food can be difficult to obtain.

== SLASH'EM ==

[[SLASH'EM]] adds the following domestic animals:{{refsrc|version=SLASH'EM 0.0.7E7F2|monst.c|106}}

* [[Image:chicken.png]] {{monsymlink|chicken}}
* [[Image:cockatoo.png]] {{monsymlink|cockatoo}}
* [[Image:parrot.png]] {{monsymlink|parrot}}
* [[Image:pit bull.png]] {{monsymlink|pit bull}}
* [[Image:lamb.png]] {{monsymlink|lamb}}
* [[Image:sheep.png]] {{monsymlink|sheep}}
* [[Image:goat.png]] {{monsymlink|goat}}
* [[Image:cow.png]] {{monsymlink|cow}}
* [[Image:bull.png]] {{monsymlink|bull}}
* [[Image:koala.png]] {{monsymlink|koala}} (only tameable with [[eucalyptus leaves]]{{refsrc|version=SLASH'EM 0.0.7E7F2|dog.c|734|comment="Koalas can only eat eucalyptus"}}
* [[Image:wombat.png]] {{monsymlink|wombat}}

Also, some animals in SLASH'EM can be tamed or pacified with specific foods; throwing other kinds of comestibles at them has no pacifying effect.{{refsrc|version=SLASH'EM 0.0.7E7F2|mondata.h|239|comment="[Tom] Dorothy wants more pets..."}}

Tameable with [[cheese]]:
* [[Image:sewer rat.png]] {{monsymlink|sewer rat}}
* [[Image:black rat.png]] {{monsymlink|black rat}}
* [[Image:giant rat.png]] {{monsymlink|giant rat}}
* [[Image:pack rat.png]] {{monsymlink|pack rat}}
Tameable with [[carrot]]s:
* [[Image:rabbit.png]] {{monsymlink|rabbit}}
* [[Image:rabid rabbit.png]] {{monsymlink|rabid rabbit}}
Tameable with [[banana]]s: all [[apelike creature]]s (monsters represented by {{monclasssym|Y}})
* [[Image:monkey.png]] {{monsymlink|monkey}}
* [[Image:ape.png]] {{monsymlink|ape}}
* [[Image:owlbear.png]] {{monsymlink|owlbear}}
* [[Image:yeti.png]] {{monsymlink|yeti}}
* [[Image:carnivorous ape.png]] {{monsymlink|carnivorous ape}}
* [[Image:sasquatch.png]] {{monsymlink|sasquatch}}
* [[Image:zruty.png]] {{monsym|zruty (SLASH'EM)}} [[zruty]]

== See also ==

* [[Cannibalism]]
* [[Pet]]
* [[Pet (SLASH'EM)]]
* [[Diet]]

== References ==

<references/>

{{nethack-343}}
[[Category:Monsters]]}
&&%s&& %s Domestic animals {7256 2006-08-14T21:49:41Z {396 Jayt} Redirecting to [[Domestic animal]] #REDIRECT [[Domestic animal]]}
&&%s&& %s Domestic {7257 2006-08-14T21:50:39Z {396 Jayt} Redirecting to [[Domestic animal]] #REDIRECT [[Domestic animal]]}
&&%s&& %s MS-DOS {150337 2023-03-26T03:24:54Z {4001483 Cathartes} /* NetHack 3.6.0 through 3.6.5 */ 3.6.7 in section title {{wikipedia}}

'''MS-DOS''' is the ''Microsoft Disk Operating System'', the most common operating system on PCs made in 1984.

This article deals mainly with support for Hack and NetHack, in versions past and present, on MS-DOS. 

Few modern desktops run MS-DOS, and indeed Microsoft discontinued support for the product long ago.  Nonetheless, most modern Wintels can play the MS-DOS version of [[NetHack 3.4.3]] or the [https://github.com/chasonr/NetHack/releases/download/NetHack-3.6.7-DOS/nh367.zip unofficial build] for [[NetHack 3.6.7]], as 32-bit versions of Windows and OS/2 can all run MS-DOS programs. [http://dosbox.sourceforge.net/ DOSBox] runs the MS-DOS NetHack on any platform that can run DOSBox.



==Game history on MS-DOS==
PCs running MS-DOS had significant limitations compared to contemporary systems such as early [[Mac]]s, [[Amiga]]s, and [[Atari]] STs; NetHack should in time have to deal with these limitations.

===Hack on MS-DOS===
The original releases of [[Hack]] by [[Andries Brouwer]] supported only BSD Unix, but several third-party ports were created for other systems.  Among these were the PC Hack series by [[Don Kneller]].  PC Hack 1.01 and 1.01e were based on [[Hack 1.0.1]].  Later releases included PC Hack 1.03, 3.0, 3.51, and 3.6, all based on [[Hack 1.0.3]] and eventually implementing an early form of [[IBMgraphics]].

The PC Hacks were distributed on BBSes and by shareware dealers, because few PC users at the time had access to the Internet.

===NetHack 1.3d through 2.3e===
[[NetHack 1.3d]] included support for MS-DOS in the mainline code for the first time.  It included a Makefile for Microsoft C 3.0 and even came with a "make" program to interpret this Makefile.

[[NetHack 1.4f]] added support for Borland's Turbo C product.

As home access to the Internet was still uncommon, these PC NetHacks were also distributed on BBSes and by shareware dealers.

===NetHack 3.0.0 through 3.0.5===
MS-DOS provides only 640 kilobytes of memory space for all programs, drivers, and the MS-DOS kernel itself.  Hack and NetHack through [[NetHack 2.3e]] were small enough to fit in this space without any special measures; but [[NetHack 3.0.0]] was a much greater program and would overflow this space if built with all features enabled.

[[NetHack 3.0.0]] through [[NetHack 3.0.10]] have an impressive list of compile-time options, any of which can be turned off to reduce the size of the final program at the expense of producing a game that lacked some of the advanced features.  Here is the list from the [[NetHack 3.0.10]] config.h:

<pre>
/* game features */
#define POLYSELF      /* Polymorph self code by Ken Arromdee */
#define THEOLOGY      /* Smarter gods - The Unknown Hacker */
#define SOUNDS        /* Add more life to the dungeon */
#define KICK          /* Allow kicking things besides doors -Izchak Miller */
/* dungeon features */
#define THRONES       /* Thrones and Courts by M. Stephenson */
#define FOUNTAINS     /* Fountain code by SRT (+ GAN + EB) */
#define SINKS         /* Kitchen sinks - Janet Walz */
#define ALTARS        /* Sacrifice sites - Jean-Christophe Collet */
/* dungeon levels */
#define WALLIFIED_MAZE /* Fancy mazes - Jean-Christophe Collet */
#define REINCARNATION /* Rogue-like levels */
#define STRONGHOLD    /* Challenging special levels - Jean-Christophe Collet*/
/* monsters & objects */
#define ORACLE        /* Include another source of information */
#define MEDUSA        /* Mirrors and the Medusa by Richard P. Hughey */
#define KOPS          /* Keystone Kops by Scott R. Turner */
#define ARMY          /* Soldiers, barracks by Steve Creps */
#define WORM          /* Long worms */
#define GOLEMS        /* Golems, by KAA */
#define INFERNO       /* Demons & Demonlords */
#ifdef INFERNO
#define SEDUCE        /* Succubi/incubi additions, by KAA, suggested by IM */
#endif
#define TOLKIEN       /* More varieties of objects and monsters */
#define PROBING       /* Wand of probing code by Gil Neiger */
#define WALKIES       /* Leash code by M. Stephenson */
#define SHIRT         /* Hawaiian shirt code by Steve Linhart */
#define MUSIC         /* Musical instruments - Jean-Christophe Collet */
#define TUTTI_FRUTTI  /* Fruits as in Rogue, but which work... -KAA */
#define SPELLS        /* Spell casting by M. Stephenson */
#define NAMED_ITEMS   /* Special named items handling */
/* difficulty */
#define ELBERETH      /* Allow for disabling the E word - Mike 3point */
#define EXPLORE_MODE  /* Allow non-scoring play with additional powers */
#define HARD          /* Enhanced wizard code by M. Stephenson */
/* I/O */
#define REDO          /* support for redoing last command - DGK */
#define COM_COMPL     /* Command line completion by John S. Bien */
#ifndef AMIGA
#define CLIPPING      /* allow smaller screens -- ERS */
#endif
</pre>

From [[NetHack 3.0.0]] through [[NetHack 3.0.5|3.0.5]], cutting out features from the above list was the only way to get a NetHack that could run on an MS-DOS PC.

===NetHack 3.0.6 through 3.0.10===
[[NetHack 3.0.6]] added support for ''overlays''.  An overlay is a piece of executable code that is not always loaded into memory.  It is loaded when it is needed, possibly displacing some other overlay.  With overlay support, a full-featured 3.0-series NetHack could be played on MS-DOS for the first time.

[[NetHack 3.0.7]] allowed the source files to be divided into smaller pieces, each of which could be a separate overlay.  This finer-grained overlay system improved the performance of the program.  The support for this division is still present in [[NetHack 3.4.3]], though in disuse; look for directives such as "#ifdef OVL0" and for such preprocessor symbols as STATIC_DCL.

Overlays remained the preferred way to build an MS-DOS NetHack through [[NetHack 3.0.10]].

===NetHack 3.1.0 through 3.3.1===
By the time that [[NetHack 3.1.0]] was released in 1993, PCs based on the 386 chip were in widespread use.  These could operate in ''protected mode'', allowing use of more than the 640K of memory accessible to MS-DOS.

MS-DOS, however, cannot operate in protected mode.  The [[wikipedia:DOS extender|DOS extender]] was introduced to solve this problem. A DOS extender switches the CPU to protected mode before running the program to which it is bound, and then switches back to ''real mode'' whenever it is necessary to enter MS-DOS for any reason.

[http://www.delorie.com/djgpp/ DJGPP] is a port of the [http://www.gnu.org/ GNU] C compiler and related tools to MS-DOS, bundled with a DOS extender. [[NetHack 3.1.0]] was the first version offered with an official version built with the DJGPP tools.

The earlier 286 chip can also run in protected mode, but not in a way that the DJGPP tools can support.

Programs built with DJGPP require a 386 to run, and so at first the overlaid versions of NetHack continued to be supported; thus there were two MS-DOS NetHacks, and neither could use the other's [[bones]] and save files.  In time, however, pre-386 PCs were retired from service, and NetHack continued to grow, eventually straining the overlay system.  The overlaid version flickered in and out of supported status; the last NetHack to offer it officially was [[NetHack 3.3.1]].

===NetHack 3.4.0 through 3.4.3===
Beginning with [[NetHack 3.4.0]], only the DJGPP version of NetHack has had any official support from the [[DevTeam]].  The makefiles and preprocessor support for the overlaid version are still present, but are no longer supported.  A recent attempt to build an overlaid [[NetHack 3.4.3]] showed this infrastructure to be slightly broken; it was furthermore necessary to cut out tile support to get the program to fit. <ref>Ray Chason, [https://groups.google.com/forum/#!topic/rec.games.roguelike.nethack/4U8k5tRzV34 Support for real-mode MS-DOS: still worthwhile?]  rec.games.roguelike.nethack, February 8, 2005.</ref>

An overlaid NetHack 3.4.3 ends up being over the 640K limit, even with a minimal set of drivers loaded.  Running it on an 8088-based PC is likely to be futile, and even a 286 should be hard-pressed to find enough room.  A 386 can load drivers outside the 640K area, but a player with a 386 can run the DJGPP NetHack.

===NetHack 3.6.0 through 3.6.7===
The addition of special [[statue]] glyphs broke the MS-DOS port in [[NetHack 3.6.0]]. The [[Tileset#NetHack 3.6.0 tileset|default tileset]] has more colors than the VGA code can handle.

[[NetHack 3.6.1]] adds support for [[wikipedia:VESA BIOS Extensions|VESA BIOS Extensions]], and falls back to the generic statue glyph if the original VGA mode is in use. It also changes the tileset format to a BMP, the same as Windows uses. The tile size is still limited to 16x16 and the colors to 256.

MS-DOS is still semi-officially supported. The code is in the distribution, but the DevTeam has not released an official binary. An unofficial binary distribution of 3.6.7 is available on [https://github.com/chasonr/NetHack/releases/download/NetHack-3.6.7-DOS/nh367.zip Github].

===NetHack 3.7 and beyond===
The current development source adds two features to the MS-DOS port. One can [[wikipedia:cross-compilation|cross-compile]] the port from Linux, which is much faster than on an emulated DOS machine. Also, the VESA  BIOS support is much extended, and can now support an arbitrary tileset.

==Microsoft Windows==
===Windows NT to Windows Vista===
''This section relates the behavior of NetHack on Windows NT, Windows 2000, and Windows XP.  Other versions of Windows (in particular Windows 95, Windows 98, and Windows Me) may behave differently, particularly in tiled mode.''

[[Microsoft Windows]] users can run the MS-DOS version of NetHack, as long as they are running a version for 32-bit Pentium hardware.  AMD64 platforms running 32-bit operating systems behave the same as Pentium hardware, and can run MS-DOS programs if the operating system supports them.  Users of PowerPC or 64-bit versions of Windows must use an emulator.

If you have not enabled VGA graphics mode, the game runs in a terminal window in text mode.  You can switch to full screen mode and back by pressing Alt-Enter; this is a feature of Windows and applies to all programs running in terminal windows, not just NetHack.

If you have uncommented the line "#OPTIONS=video:autodetect" in your NetHack.cnf file, the game runs full screen, either in tiled mode or drawing the [[ASCII]] and [[IBMgraphics]] characters on the graphical screen. Attempting to switch to a terminal window causes the game to suspend; this is a limitation of Windows and NetHack cannot overcome it, but it does not harm your game in any way; you can safely switch back to it and keep playing.

===Vista===
Windows Vista does not support terminal windows in full screen mode.  This applies to both MS-DOS programs and text-mode Win32 programs.  This limitation prevents MS-DOS programs from using any sprite-graphics.  The MS-DOS version of NetHack still runs but is limited to text mode.

==IBM OS/2==
[[OS/2]] users can run the MS-DOS version of NetHack, unless they have the [very rare] PowerPC version.

NetHack on OS/2 works much as it does on Windows, except that the key to switch to full screen mode is Alt-Home.

==Emulation==
[[Image:nethack-qemu.png|thumb|NetHack tiled view on FreeDOS under QEMU]]
Non-x86 platforms, and AMD64 platforms running 64-bit operating systems, do not support MS-DOS programs directly.  They can run the MS-DOS version of NetHack by using an emulator such as [http://fabrice.bellard.free.fr/qemu/ QEMU] with a copy of [http://www.freedos.org// FreeDOS] installed inside, or with [http://dosbox.sourceforge.net/ DOSBox].

Of course it may not be worth the trouble.  AMD64-compatible operating systems could, in principle, support MS-DOS.  Developers of these operating systems have thus far concluded that it is not worth the effort; it requires some complicated mode-switching code in the kernel, which in turn would have to be debugged and checked for security problems.

===Apple macOS===
Users of 68K, PowerPC, or Intel [[Mac]]s must use an emulator.

OS X users can use a Mac-specific version of DOSBox called [http://boxerapp.com/ Boxer].

===GNU/Linux===
Users of x86 versions of Linux can run the MS-DOS version of NetHack by using [http://www.dosbox.com/ DOSBox].  See the website for your distribution for instructions to obtain and install DOSBox, or build from source.

In DOSBox, NetHack appears in a window whether in tiled or text mode.

Use of DOSEMU is not recommended. DOSEMU crashes if NetHack is run within it.

==References==
<references/>

[[Category:Operating systems]]
{{nethack-364}}}
&&%s&& %s Dunce cap {141248 2021-06-27T23:36:57Z {4001279 Umbire the Phantom}  {{armor
  |color=blue
  |tile=[[Image:Conical hat.png]]
  |name=dunce cap
  |appearance=[[conical hat]]
  |slot=helm
  |ac=0
  |special=<ul><li>[[autocurse]]s</li><li>[[intelligence]] = 6</li><li>[[wisdom]] = 6</li><li>[[shop]] markup</li></ul>
  |cost=1
  |weight=4
  |material=cloth
}}

The '''dunce cap''' is a magical [[helm]] that appears in ''[[NetHack]]''. When unidentified, it appears as a [[conical hat]].

==Effects==
When worn, the dunce cap sets your [[intelligence]] and [[wisdom]] to 6 each and [[autocurse]]s, even if originally blessed; this will [[autoidentify]] the dunce cap. Dunce caps also prevent any change to your intelligence or wisdom while worn, akin to a [[ring of sustain ability]].{{refsrc|attrib.c|111|version=NetHack 3.6.0}} Removing the cap will restore your intelligence and wisdom to their original values.

Shopping while wearing a dunce cap will cause the [[shopkeeper]] to add an additional 1/3 markup to the price of each item when buying,{{refsrc|shk.c|line1970|version=NetHack 3.6.0}}, and only give you 1/3 of the base price when selling items.{{refsrc|shk.c|line2143|version=NetHack 3.6.0}}. This is also the penalty for being a low-level [[Tourist]] or having a visible [[shirt]]; these penalties are not cumulative.

==Identification==
As the dunce cap and the [[cornuthaum]] are both conical hats, picking up and wearing a conical hat at random is a [[Bad Idea]]. They can easily be distinguished by price, with the dunce cap having a base cost of only 1 zorkmid.

{{upcoming|NetHack 3.7.0|For a [[Tourist]], {{frac|3}} of conical hats can be [[read]]; a dunce cap will be labeled "DUNCE". Reading a dunce cap autoidentifies it.}}

==Strategy==
The dunce cap only exists to entrap careless Wizards looking for a cornuthaum - the INT penalty will be devastating to their [[spellcasting]] success rates, making it difficult to cast the spell of {{spell of|remove curse}}. As the cornuthaum is only useful for wizards or pets, non-wizards can freely ignore unidentified conical hats and completely avoid the risk of donning a dunce cap.

One marginal use of the dunce cap is that it prevents [[instadeath]] from a [[mind flayer]]'s intelligence drain - it does not prevent [[amnesia]] from the same attack, however. Beyond this, its best use is as fodder for [[polypiling]] into other magical armor.

==Messages==
{{message|You feel like sitting in a corner.|You put on a dunce cap.}}
{{message|Your cap constricts briefly, then relaxes again.|Your wisdom or intelligence would have changed, but a worn dunce cap prevented this.}}

==Origin==
{{wikipedia|Dunce cap}}
The dunce cap is a conical paper hat with the word "dunce" or just a "D" written on it. It was a form of punishment used in schools in the English-speaking world, where a student seen as misbehaving, stupid or lazy was made to wear it in front of the classroom for a set amount of time.

The notion of a "thinking cap" such as the cornuthaum may derive from ceremonial conical hats or even true thinking hats - in this context, the dunce cap is an "anti-thinking cap".

==Encyclopedia entry==
{{encyclopedia|
A dunce cap, also variously known as a dunce hat, dunce's
cap, or dunce's hat, is a tall conical hat.  In popular
culture, it is typically made of paper and often marked with
a D, and given to schoolchildren to wear as punishment for
being stupid or lazy.  While this is now a rare practice,
it is frequently depicted in popular culture such as
children's cartoons.
|[ Wikipedia, the free encyclopedia ]
}}

==References==
<references/>

[[Category:Helms]]
{{nethack-366}}}
&&%s&& %s You feel guilty {99528 2015-12-22T10:43:21Z {4000080 ChasonBot}  '''You feel guilty''' is a message given in a couple of different circumstances:

* When reading a blessed [[scroll of punishment]]
* When eating non-vegetarian food as a [[Monk]]

The message '''You feel guilty...''' is given when you kill a [[alignment|co-aligned]] [[unicorn]] (-5 [[Luck]]). The ellipsis distinguishes it from the message described above.

{{disambig}}

[[Category:Messages]]
{{nethack-343}}}
&&%s&& %s You feel guilty... {40601 2009-06-20T02:46:10Z {102 Bitplane}  #REDIRECT [[You feel guilty]]
[[Category:Messages]]}
&&%s&& %s Heavy iron ball {84586 2013-05-04T06:33:28Z {4000045 Bulwersator} Redirected page to [[Punishment#The heavy iron ball]] #REDIRECT [[Punishment#The_heavy_iron_ball]]}
&&%s&& %s Katana {146745 2022-07-20T07:18:48Z {4001279 Umbire the Phantom} /* Origin */ {{weapon
 |color=metal color
 |tile=[[image:katana.png]]
 |name=katana
 |appearance=samurai sword 
 |smalldmg=1d10
 |tohit=<nowiki>+1</nowiki>
 |largedmg=1d12
 |skill=long sword
 |cost=80
 |weight=40
 |material=iron
}}

A '''katana''' is a type of one-handed [[weapon]] that appears in ''[[NetHack]]''. When unidentified, it appears as a '''samurai sword'''. [[Snickersnee]] is an [[artifact]] katana.

==Generation==
All [[Samurai]] start with a +1 katana.{{refsrc|src/u_init.c|134|version=NetHack 3.6.6}}

Katanas are very rare - only 4 in 1000 (0.4%)<ref>http://www.steelypips.org/nethack/343/weap-343.html#table1</ref> of all randomly spawned weapons will be katanas.

[[Samurai (player monster)|Samurai]] [[player monsters]] on the [[Samurai quest]] and the [[Astral Plane]] have a 50% chance to generate with a katana in place of their initial primary weapon.{{refsrc|src/mplayer.c|234|version=NetHack 3.6.6}}

==Strategy==
The primary differences between a katana and a [[long sword]] are the +1 bonus to hit, the katana's d10 damage to small monsters (as opposed to d8 for a long sword), and the inability to convert a katana into [[Excalibur]] by [[dip]]ping. A samurai wielding a katana has a chance of performing a [[shattering blow]], destroying a monster's wielded weapon.

Because a katana is the most damaging non-artifact weapon to use the long sword weapon skill, it is often a desirable off-hand weapon for [[Twoweapon|two-weapon combat]].

===Average damage calculation===
The average damage calculations in the following table do not include bonuses from [[Skill|weapon skills]], [[strength]], or from using a [[blessed]] weapon against [[undead]] or [[demon]]s.
{|class="wikitable"
!Weapon
!Small monsters
!Large monsters
|-
| +0 katana
| <math>\frac{1+10}{2}=\bold{5.5}</math> 
| <math>\frac{1+12}{2}=\bold{6.5}</math>
|-
| +7 katana
| <math>\frac{1+10}{2}+7=\bold{12.5}</math> 
| <math>\frac{1+12}{2}+7=\bold{13.5}</math>
|}

==History==
The katana first appears in [[NetHack 1.3d]].

The now-[[defunct]] Ninja role started with a katana from NetHack 1.3d to [[NetHack 2.3e]]. In [[NetHack 2.2a]] and 2.3e, Snickersnee could be created by naming any katana.

==Origin==
{{Wikipedia|Katana}}
''Katana'' is the name used for a Japanese sword characterized by a curved, single-edged blade with a circular or squared guard and a long grip to accommodate two hands. It originated in the late 12th century and was most notably used by feudal samurai, worn with the blade facing upward; the official term for these swords is ''uchigatana'' (打刀), with ''katana'' often referring to other single-edged swords. Though the quality of steel in Japan was relatively poor at the time, the katana produced were considered better than the mass-produced European [[broadsword]]s of the same era.

The statline for the katana, including the +1 to-hit bonus, is derived from ''[[Dungeons & Dragons]]''.

==Variants==
===dNetHack===
In [[dNetHack]], [[maid]]s have a chance to generate with a katana depending on whether or not the player is a Samurai. dNetHack also introduces [[Kiku-ichimonji]], an artifact katana that replaces Snickersnee (which is changed to a knife) as the Samurai's first [[sacrifice gift]].

===SlashTHEM===
In [[SlashTHEM]], another artifact katana, [[Nightingale]], is introduced as the first sacrifice gift for the revived [[Ninja (role)|Ninja]] role. Kiku-ichimonji retains its role from dNetHack, while Snickersnee is still present, but is instead obtained through a different method.

==Encyclopedia entry==
{{encyclopedia|
The katana is a long, single-edged samurai sword with a
slightly curved blade.  Its long handle is designed to allow
it to be wielded with either one or two hands.
}}

==References==
<references/>
{{nethack-366}}
[[Category:Weapons]]}
&&%s&& %s Intelligent artifact {97971 2015-12-13T16:10:45Z {187 Darth l33t} 3.6.0 '''Intelligent artifacts''' are those that have special usage requirements. To safely use them, you must:

* be of the same [[alignment]] as the [[artifact]]
* be of the same [[role]] as the artifact (if it is a [[quest artifact]])
* have non-negative [[alignment record|alignment]]

Otherwise, you will be [[artifact blast|blasted]] by the artifact, sustain 4d10 damage (2d10 if you have [[magic resistance]]), and [[abuse]] your [[wisdom]].  The blast occurs when you pick up or wish for the item, and again if you interact with it in any way except to drop it or put it in a container, as well as every time your alignment changes, until you satisfy all the conditions.

If you are of the wrong role, and also fail any of the other conditions above, then a quest artifact outside your main inventory will "evade your grasp", and you will not be able to pick it up or remove it from a container.  Emptying a container with #tip will safely deposit the artifact on the floor.  If the artifact is in your main inventory, it will be "beyond your control", unequip itself from you, and you won't be able to equip, apply, or [[invoke]] it.  Any effects the artifact grants while carried will still work.

It is possible to get around the alignment limitation using a [[helm of opposite alignment]]. If, for example, you are lawful, but want to carry [[The Master Key of Thievery]], you can wear the helm, switching to chaotic, then acquire the artifact, then uncurse and take off the helm. You won't be able to touch the key, and if you drop it you won't be able to pick it up again. However, the key still provides its special benefits like [[half physical damage]] while carried.

Intelligent artifacts have an 80% chance of resisting the [[curse items]] [[monster spell]]; this doesn't protect other items the curse may target.

==List of intelligent artifacts==

* All [[quest artifact]]s
* [[Excalibur]]
* [[Stormbringer]]

==SLASH'EM==
In [[SLASH'EM]] the [[Alignment key|alignment keys]] at the end of the [[alignment quest]]s are also intelligent. Since SLASH'EM's intelligent artifacts blast you for 8d10 damage (6d10 if you have [[magic resistance]]), be prepared for some serious HP loss at the end of a cross-aligned quest. This is particularly a concern if you're planning to pick up the quest artifact (most likely to happen with the [[Hand of Vecna]]) as well as the key, since these may still blast you for 8d6 damage (6d6 with magic resistance). Be especially careful if you've taken damage on the way there or will take damage on the way back to the portal.
{{nethack-360}}
[[Category:Artifacts]]}
&&%s&& %s Undead {150014 2023-02-19T17:51:57Z {4001483 Cathartes} /* Common traits */ shapeshifted vampires are neutral '''Undead''' in NetHack are a group of unliving monsters. They include the following [[monster class]]es:

*{{mcsl|L}} [[lich]]es
*{{mcsl|M}} [[mummy|mummies]] 
*{{mcsl|V}} [[vampire]]s 
*{{mcsl|W}} [[wraith (monster class)|wraiths]]
*{{mcsl|Z}} [[zombie]]s 
*{{mcsl| }} [[ghost (monster class)|ghost]]s

==Common traits==
Undead monsters are represented internally by the monster attribute <code>'''M2_UNDEAD'''</code>. Undead take an extra [[D notation|d4]] of damage from [[blessed]] items. Contact with [[holy water]] (including quaffing) also harms them, including the player if polymorphed into an undead form; however, [[unholy water]] actually [[exercise]]s constitution. Undead deal double damage [[time|in the hour of midnight]].

[[Priest]]s and [[knight]]s can [[turn undead]], which can scare undead or even destroy lower-level ones completely. A [[wand of undead turning]] or [[spell of turn undead]] can also damage and scare them.

Undead are immune to [[drain resistance|level drain]], such as from the [[Staff of Aesculapius]]. They are also all immune to [[sleep]], [[poison]], and [[death ray]]s; with the exception of vampires, they are also immune to [[cold]].

Reading the [[Book of the Dead]] while [[cursed]] will summon [[hostile]] undead. The blessed book will [[peaceful|pacify]] all undead, and then [[tame]] co-aligned undead if possible (the covetous [[master lich|master]] and [[arch-lich]]es cannot be tamed). All undead are chaotic except for [[shade]]s and [[skeleton]]s, which are neutral. The shapeshifted forms of [[vampire]]s ([[fog cloud]], [[vampire bat]], and [[wolf]]) are also neutral.

[[Sunsword]] does double damage against undead monsters.

===Undead and garlic===
{{main|Clove of garlic#Undead and garlic}}
All undead dislike garlic and will avoid it where they can.

{{todo|Further elaborate on their traits}}
{{nethack-366}}
[[Category:Monster attributes]]}
&&%s&& %s Castle {144223 2022-01-23T20:07:28Z {4000251 Netzhack} /* Map */ {{level|Castle|
 |branch=Dungeons of Doom
 |from=25|to=29
 |bones=no
 |teleport=no
 |mapping=yes
 |digfloor=no
 |digwalls=Only in maze parts
}}
The '''Castle''' is a special level just above the [[Valley of the Dead]]. It is the lowest level of the [[Dungeons of Doom]], and is located between DL 25 and 29. The level permits no [[bones]] files and is [[no-teleport level|no-teleport]]. It is considered a [[graveyard]] level (undead are unlikely to leave corpses). It is notable for having a lot of monsters, soldiers, loot and a guaranteed [[wand of wishing]].

==Map==

{{upcoming|3.7.0|The following map may be mirrored vertically and/or horizontally.}}

<div class="ttymap"><replacecharsblock rules="ttymap">
1=[[giant eel|{{monsym|giant eel}}]]
2=[[shark|{{monsym|shark}}]]
3=[[lieutenant|{{monsym|lieutenant}}]]
4=[[soldier|{{monsym|soldier}}]]
#=[[drawbridge|{{brown|#}}]]
^=[[trap door|{{brown|^}}]]
store={{yellow|store}}
~={{black|.}}
m={{black|m}}
b=[[yendorian army|{{white|@}}]]
D=[[dragon|{{white|D}}]]
t={{magenta|t}}
w=[[chest|{{brightgreen|(}}]]
(=[[chest|{{brown|(}}]]

-----------------------------------------------------------------------------
|mmmmm|}}}}}2}}}~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~}}}2}}}}}|mmmmm|
|mmmmm|}-------}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}-------}|mmmmm|
|mmmmm|}|.4w4.|-----------------------------------------------|.4w4.|}|mmmmm|
|mmmmm|}|.....+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~+.....|}|mmmmm|
|mmmmm|}-------------------------------+-----------------------------}|mmmmm|
|mmmmm|}}}}}}|..4.4...|bbbbbbbbb.+t..t..t..t.|.......SDS.......|}}}}}}|mmmmm|
|mmmmm|.....}|.4...4..|bbbbbbbbb.|.t..t..t..t|.store.|D|.store.|}......mmmmm|
|mmmmm|.....1|........|----------|t..t..t..t.|--------S--------|1.....|mmmmm|
|mmmmm|.....}#..3{....+~~~~~~~~~~+.t..t..t.\(S~^~~~^~~~^~~~^~~^+......|mmmmm|
|mmmmm|.....1|........|----------|t..t..t..t.|--------S--------|1.....|mmmmm|
|mmmmm......}|.4...4..|bbbbbbbbb.|.t..t..t..t|.store.|D|.store.|}.....|mmmmm|
|mmmmm|}}}}}}|..4.4...|bbbbbbbbb.+t..t..t..t.|.......SDS.......|}}}}}}|mmmmm|
|mmmmm|}-------------------------------+-----------------------------}|mmmmm|
|mmmmm|}|.....+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~+.....|}|mmmmm|
|mmmmm|}|.4w4.|-----------------------------------------------|.4w4.|}|mmmmm|
|mmmmm|}-------}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}-------}|mmmmm|
|mmmmm|}}}}}2}}}~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~}}}2}}}}}|mmmmm|
-----------------------------------------------------------------------------
</replacecharsblock></div>
The stairs up are in a small maze on the left side of the level. The middle part of the level contains the castle, surrounded by a [[moat]]. In one of the four corner rooms on a spot marked [[chest|{{brightgreen|(}}]], there is a guaranteed untrapped [[chest]] containing a wand of wishing. The walls inside the castle are undiggable, but the walls of the mazes and the two vertical walls separating the mazes from the moats at the front and back of the castle are diggable. The only way down is through the [[Trap|trap doors]] in the castle (there is no downstair). The floor is undiggable, but if you fill the trap doors, you may dig [[hole]]s where they were.

Climbing the stairs up from the Valley of the Dead will place you in a random location in the right-hand maze on the Castle level.

The four rooms marked "store" are filled with [[food]], [[weapon]]s, [[armor]], and [[gems]], and may include useful [[magical item]]s or [[artifact|artifact weapons]].

The Castle moat contains four [[shark|sharks]] and four [[giant eel|giant eels]]. The two [[Special_room#Barracks|barrack]]s on either side of the entry hall contain their usual complement of inhabitants (chosen from [[Yendorian army|soldiers, lieutenants, sergeants, and captains]]); in addition, each corner tower contains two soldiers, and the atrium eight soldiers and a lieutenant. The throne room contains 27 monsters at the positions marked "t", roughly equally chosen from {{mcsl|E}} {{mcsl|H}} {{mcsl|L}} {{mcsl|M}} {{mcsl|N}} {{mcsl|O}} {{mcsl|R}} {{mcsl|T}} {{mcsl|X}} {{mcsl|Z}}; a chest is behind the throne. The alcoves between the marked storerooms contain two random [[dragons]] each.

The chest with the wand of wishing is in one of the four spots marked [[chest|{{brightgreen|(}}]] each guarded by two soldiers. The black floors (marked ".") and the mazes (marked "m") are unlit.

===Drawbridge===
The {{brown|#}} at the front of the castle is the [[drawbridge]]. If you don't know the [[passtune]], one way to open it is to play a game of [[wikipedia:Mastermind (board game)|mastermind]] with it. The player must use a [[tonal instrument]] and be standing at most a knight's move from the drawbridge (standing any closer can be hazardous, if the drawbridge opens or closes on you or is destroyed). Applying the instrument without improvising, the player must guess the 5 note combination to open the drawbridge. The notes you can play are A, B, C, D, E, F, and G. Once you get the right combination, the drawbridge opens and you can cross the moat. You may close the drawbridge by playing the passtune again, to crush any monster that happens to be on it.

The drawbridge may also be opened with a [[wand of opening]], a [[spell of knock]], or the [[blessed]], charged [[Bell of Opening]].

Zapping the open drawbridge with a [[wand of striking]] or a [[spell of force bolt]] will smash it to pieces, also tearing apart any monster (or player) currently standing on or next to it.

== Strategy ==

* It may be useful to quaff a blessed [[potion of object detection]] (or cast the [[Skilled]] [[spellbook of detect treasure|spell of detect treasure]]) before entering the castle, as this will both reveal the location of the wand (allowing you to travel to it directly), and the contents of the store rooms (which frequently contain magical armor or artifact weapons and therefore might influence how you spend your wishes).
* There is a small probability that the [[xorn]]s will go and eat metal items from the storage rooms, so if you are worried about losing potentially valuable items you may want to kill the xorns quickly as you see them. You can also try to go directly to the storage rooms before they have a chance to eat anything.
* After you open or destroy the drawbridge, it may be better to retreat to the maze to fight rather than doing it right at the entrance – this way, you can stand in a spot where only one monster can reach you at once and monsters you aren't currently fighting can't use ranged attacks. This also reduces the time you spend fighting next to the moat and the chance of making a typo and falling into it, blanking valuable items.
* Once you've killed everything, it's often worth trying to [[polypiling|polypile]] some of the junk left behind. There is an awful lot of junk armor, and the chances of getting some nice magical items or a [[T-shirt]] are quite good.
* You can [[magic whistle|whistle]] [[pet]]s into the castle without entering yourself by floating over the [[moat]] between the corner towers and the edge of the map. (You may have to try many times for this to work; it helps if there are other monsters around you to limit the possible squares the pet can be summoned to.) [[Vampire lord]]s work well due to their natural [[regeneration]], provided you give them an [[elven cloak]] to [[magic cancellation|cancel]] the [[lich]]s' [[cold]] attack. It is still a good idea to monitor your pet's health. Occasionally strong pets such as [[dragon]]s may even be able to [[apport|pick up and fetch]] the chest.

===Getting into the Castle===
There are many ways to get into the castle. These include:
* Open the drawbridge by playing the [[passtune]], zapping it with a [[wand of opening]], or applying the blessed [[Bell of Opening]]. Be sure to stand back a couple of squares for the wand or a knights-move away otherwise, to avoid having the bridge hit you in the face and kill you. If you have a tonal instrument, you can repeatedly play the passtune to crush monsters under the drawbridge. Do not cross until you're sure no monsters with wands of striking might zap them at you.
* Zap the drawbridge with a [[wand of striking]] or a [[Spellbook of force bolt|spell of force bolt]]. This will leave an empty square of moat, which can be crossed by reading a [[scroll of earth]] and pushing a boulder in, [[Levitation|levitating]] across, [[jumping]], throwing a [[punishment|heavy iron ball (chained to you)]], or zapping a [[wand of cold]] to freeze the water (be sure no fire-breathing monsters or wands of fire are aimed at you before crossing). If you are truly desperate, you can wait until the square where the drawbridge used to be is empty, then repeatedly dive into the water. Eventually, you will climb out on the opposite side. (Naturally, drop anything you don't want wet first.) Also, make sure you are not standing directly in front of the drawbridge (over the moat)--if you are, you will be hit by flying metal and insta-killed. Any further back is safe.
* [[Levitate]] or [[Water walking|water walk]] around to the back of the castle, or freeze the water around the castle with a wand of cold or the [[Spellbook of cone of cold|cone of cold spell]]. (Look out for [[sea monster]]s.) You can also [[level teleport]] into the Valley of the Dead (you can specify level 99, or one level below the castle), and climb the stairs up to the castle. In either case, you will need to get through the back trapdoors in the back to get into the castle; you can levitate or jump across, or you can use the boulders from a scroll of earth to fill them in; note, however, that if you do this you will need to dig through the filled trap doors to enter Gehennom.
* Polymorph yourself into a [[phasing]] monster ([[xorn]] or [[earth elemental]]), and walk through the wall of the castle. This has the advantage of taking you directly to the wand, if you know where it is, and allowing you to skip the monsters. (Both xorns and earth elementals can also breathe underwater, so you can walk through the moat safely, although anything not inside a greased or oilskin bag will still get wet.)

===Dealing with the drawbridge===

The drawbridge has been a source of many deaths. Here are a few things you can do to avoid [[YASD]]:
* Do not zap the drawbridge with a wand of striking while standing directly in front of it.
* Do not open it while standing on either of the two spaces directly in front of it.
* Do not linger near it when other monsters have wands of striking.

Beware crushing [[peaceful]]s in the drawbridge. The resulting bad [[Luck]] can make your [[wish]]es fail or come out cursed.

==Tools==
Lazy players may find the automated Mastermind solver at http://nethack.gridbug.de/mm.html useful.

== History ==
The original Castle appears in [[NetHack 3.0.0]]. The [[wand of wishing]] appears in one of the corner turrets, as in the current version; but it lies exposed on the floor instead of being protected by a [[chest]] and [[Elbereth]]. Furthermore, the Castle has empty rooms where the barracks are now. The next level is the beginning of [[Hell]], and so the [[trap door]]s can lead to [[instadeath]].

[[NetHack 3.1.0]] adds the [[barracks]] and engraves [[Elbereth]] under the [[wand of wishing]]. [[Gehennom]] replaces [[Hell]] and so an adventurer without [[fire resistance]] no longer risks [[instadeath]], though rashly dropping through the [[trap door]]s is still not a good idea.

[[NetHack 3.2.0]] places the [[wand of wishing]] in a [[chest]] for the first time.

[[NetHack 3.6.0]] introduces a few minor changes: filled trapdoors can be re-dug, opening or closing the castle drawbridge by playing the passtune consumes a turn, and the chest containing the wand of wishing can never be trapped.
==Variants==
{{todo|Add FIQhack versions}}
===UnNetHack===
{{main|Castle (UnNetHack)}}
[[UnNetHack]] adds two new versions of the castle with different challenges and rewards.

===SLASH'EM===
The water in SLASH'EM castle moat is different from any other water ("sparkling water"); although SLASH'EM does not fully implement the [[Lethe]] patch, it mimics the "waters of Lethe" concept from that patch. The castle water is far more dangerous, as falling into it causes every magical item in your inventory to be dipped in it, and its dipping effects are far nastier than normal water:
*All items have their [[BUC]] status set to uncursed.
*All items are subject to [[rust]], if applicable.  The waters do not affect the [[erosion]]-proofing of items, and so will not rust them.
*[[Scrolls]] and [[spellbook]]s are blanked.
*[[Potions]] are turned into uncursed [[water]] in one dip.
*Potions of water are turned into uncursed [[potion of amnesia|potions of amnesia]] (but can be turned back to water if dipped again).
*Enchantable items ([[ring]]s, [[weapon]]s, [[armor]]) lose one positive enchantment.
*Wands lose one charge.
*Magical [[tool]]s and [[gem]]s are converted into mundane counterparts, if possible: [[luckstone]]s become [[flint]], [[magic lamp]]s become [[oil lamp]]s, etc. [[Magic marker]]s will not be changed, but will lose 8 charges. [[Crystal ball]]s are unaffected.

In addition, anyone falling into it will suffer [[amnesia]].

Walking on the water via [[water walking boots]] (but not swimming via [[gauntlets of swimming]] or polyself) has no ill effects on the boots or you, and obviously [[flying]] or [[levitation]] over the water is safe. One of these three is very advisable in SLASH'EM's castle. Destroying the drawbridge/door, jumping in the water, and hoping you land inside the castle is no longer a viable strategy (although opening the drawbridge still is). Although the water is dangerous, controlled dipping of items into it via [[flying]] or [[water walking]] provides an unlimited way to remove cursed gear, so long as you don't mind the item losing a point of enchantment and possibly rusting. Non-chargeable rings and amulets will be unaffected.

==External links==

* [https://github.com/UnNetHack/UnNetHack/blob/master/dat/castle.des UnNetHack GitHub level files]

{{DOD}}
{{nethack-366}}
{{variant-343}}
[[Category:Special levels]]}
&&%s&& %s The Sanctum {7303 2006-08-15T15:29:50Z {239 Eidolos} Redirect to [[Moloch's Sanctum]]. #REDIRECT [[Moloch's Sanctum]]}
&&%s&& %s Sanctum {7304 2006-08-15T15:30:16Z {239 Eidolos} Redirect to [[Moloch's Sanctum]]. #REDIRECT [[Moloch's Sanctum]]}
&&%s&& %s The Castle {7306 2006-08-15T15:36:51Z {239 Eidolos} Redirect to [[Castle]]. #REDIRECT [[Castle]]}
&&%s&& %s Kobold {144196 2022-01-19T17:22:44Z {187 Darth l33t} /* Kobold shaman */ success chance {{Wikipedia|Kobold}}
Members of the '''kobold''' [[monster class]] are represented by {{white|k}}. This class has four members, described below.

All kobolds are [[poisonous]] to eat, but do ''not'' convey [[poison resistance]]. Each kobold has a 25% probability of being [[Monster_starting_inventory|generated with]] 3-14 [[dart]]s.{{refsrc|makemon.c|369}} In German mythology, Kobolds normally start out as benevolent nix, but are either ignored or angered by humans, causing them to act out, or in this case, attack.

Kobolds will "grunt" when #[[chat]]ted to, and will pick up and equip appropriate [[weapon]]s and [[armor]].

{{clear}}
==Kobold==
{{monster
 |difficulty=1
 |level=0
 |experience=6
 |speed=6
 |AC=10
 |MR=0
 |align=-2
 |frequency=1
 |genocidable=Yes
 |attacks=Weapon 1d4
 |weight=400
 |nutr=100
 |size=Small
 |resistances=Poison
 |resistances conveyed=None
 |attributes={{attributes|A kobold|
 |humanoid=1|pois=1|omnivore=1|hostile=1|collect=1|infravisible=1|infravision=1}}
 |reference=[[monst.c#line569]]
}}
An ordinary '''kobold''' is one of the easiest monsters in the game.
{{clear}}
==Large kobold==
{{monster
 |name=large kobold
 |difficulty=2
 |level=1
 |experience=13
 |speed=6
 |AC=10
 |MR=0
 |align=-3
 |frequency=1
 |genocidable=Yes
 |attacks=Weapon 1d6
 |weight=450
 |nutr=150
 |size=Small
 |resistances=Poison
 |resistances conveyed=None
 |attributes={{attributes|A large kobold|
 |humanoid=1|pois=1|omnivore=1|hostile=1|collect=1|infravisible=1|infravision=1}}
 |reference=[[monst.c#line576]]
}}
Kobolds can [[grow up]] into '''large kobolds'''.{{refsrc|mondata.c|562}}
{{clear}}
==Kobold lord==
{{monster
 |name=kobold lord
 |difficulty=3
 |level=2
 |experience=22
 |speed=6
 |AC=10
 |MR=0
 |align=-4
 |frequency=1
 |genocidable=Yes
 |attacks=Weapon 2d4
 |weight=500
 |nutr=200
 |size=Small
 |resistances=Poison
 |resistances conveyed=None
 |attributes={{attributes|A kobold lord|
 |humanoid=1|pois=1|omnivore=1|hostile=1|lord=1|=
 |male=1|collect=1|infravisible=1|infravision=1}}
 |reference=[[monst.c#line583]]
}}
Large kobolds can grow up into '''kobold lords'''.{{refsrc|mondata.c|562}}
{{clear}}
==Kobold shaman==
{{monster
 |name=kobold shaman
 |difficulty=4
 |level=2
 |experience=27
 |speed=6
 |AC=6
 |MR=10
 |align=-4
 |frequency=1
 |genocidable=Yes
 |attacks=Magic [[monster spell|spell-casting]]
 |weight=450
 |nutr=150
 |size=Small
 |resistances=Poison
 |resistances conveyed=None
 |attributes={{attributes|A kobold shaman|
 |humanoid=1|pois=1|omnivore=1|hostile=1|magic=1|infravisible=1|infravision=1}}
 |reference=[[monst.c#line591]]
}}
The '''kobold shaman''' is among the lowest-level spellcasting monsters in NetHack. If generated at its base level, it can't actually cast anything, as [[monster level]] 2 gives no chance of success with [[monster spell]]s. A level 3 kobold shaman has a {{frac|3}} chance of successfully casting [[psi bolt]], [[cure self]], or [[haste self]].
{{clear}}

==Variants==
===SLASH'EM===
{{main|Kobold (SLASH'EM)}}
[[SLASH'EM]] introduces several new kobolds:

*{{monsymlink|swamp kobold}}
*{{monsymlink|rock kobold}}
*{{monsymlink|kobold warrior}}
*{{monsymlink|Kroo the Kobold King}}

=== UnNetHack ===
In [[UnNetHack]], kobolds will attack any [[Elf (monster attribute)|elves]] they see, and vice versa, as part of Nephi's [[grudge]] patch.

== Encyclopedia entry ==

{{encyclopedia|<poem>
The race of kobolds are reputed to be an artificial creation
of a master wizard (demi-god?).  They are about 3' tall with
a vaguely dog-like face.  They bear a violent dislike of the
Elven race, and will go out of their way to cause trouble
for Elves at any time.
</poem>}}

==References==
<references/>

{{nethack-343}}
[[Category:Monsters]]
[[Category:Monster classes]]}
&&%s&& %s Eating rings {7331 2006-08-15T17:00:10Z {239 Eidolos} Redirect to [[Eating jewelry]]. #REDIRECT [[Eating jewelry]]}
&&%s&& %s Eating amulets {7332 2006-08-15T17:00:37Z {239 Eidolos} Redirect to [[Eating jewelry]]. #REDIRECT [[Eating jewelry]]}
&&%s&& %s Edible rings {7333 2006-08-15T17:01:08Z {239 Eidolos} Redirect to [[Eating jewelry]]. #REDIRECT [[Eating jewelry]]}
&&%s&& %s Edible ring {7334 2006-08-15T17:01:39Z {239 Eidolos} Redirect to [[Eating jewelry]]. #REDIRECT [[Eating jewelry]]}
&&%s&& %s Edible amulets {7335 2006-08-15T17:02:04Z {239 Eidolos} Redirect to [[Eating jewelry]]. #REDIRECT [[Eating jewelry]]}
&&%s&& %s Edible amulet {7336 2006-08-15T17:02:28Z {239 Eidolos} Redirect to [[Eating jewelry]]. #REDIRECT [[Eating jewelry]]}
&&%s&& %s Eating jewelry {145587 2022-04-21T19:43:32Z {4001160 Falconfused} Added more cells to the table, because it's important to know the odds of having a number of jewelry pieces between 1 and "more than most people get" '''Eating jewelry''' is a method to permanently gain the intrinsics conveyed by wearing some [[ring]]s and [[amulet]]s. To eat a ring or amulet, one must first [[polymorph]] into a creature that can eat the [[material]] of the ring or amulet.

The material of a ring is dependent upon its [[randomized appearance]], not its function. Not all rings are edible, so the set of rings that can be eaten varies from game to game. All amulets are iron, so they are edible by [[metallivore]]s, specifically [[rock mole]]s, [[rust monster]]s, and [[xorn]]s.

Eating a ring has a one in three chance of conveying its powers to the eater, while eating an amulet only has a one in five chance of conveying its powers.{{refsrc|eat.c|1481}} If the intrinsic is granted, you get the following message: ''"Magic spreads through your body as you digest the {ring|amulet}"'' as opposed to the traditional intrinsic gain message.

Eating other objects only confers nutrition.

'''''[[Artifact]]s are treated as their base items for eating purposes. This means that you can accidentally eat your great weapon or quest artifact. It will then be lost forever.'''''

== Edible rings ==

The edible rings, and who can eat them, are given in the following table:

{|class="prettytable"
!Image
!Appearance
!Material
!Consumable by
|-
|[[Image:Iron_ring.png]]
|iron
|rowspan=6|[[iron]]
|rowspan=6|any [[metallivore]]
|-
|[[Image:Twisted_ring.png]]
|twisted
|-
|[[Image:Steel_ring.png]]
|steel
|-
|[[Image:Wire_ring.png]]
|wire
|-
|[[Image:Engagement_ring.png]]
|engagement
|-
|[[Image:Shiny_ring.png]]
|shiny
|-
|colspan=4|
|-
|[[Image:Bronze_ring.png]]
|bronze
|rowspan=3|[[copper]]
|rowspan=5|[[metallivore]] not restricted to rustprone metals ([[rock mole]], [[xorn]])
|-
|[[Image:Brass_ring.png]]
|brass
|-
|[[Image:Copper_ring.png]]
|copper
|-
|[[Image:Silver_ring.png]]
|silver
|[[silver]]
|-
|[[Image:Gold_ring.png]]
|gold
|[[gold]]
|-
|colspan=4|
|-
|[[Image:Wooden_ring.png]]
|wooden
|[[wood]]
|[[gelatinous cube]]
|-
|colspan=4|
|-
|[[Image:Granite_ring.png]]
|granite
|rowspan=6|[[mineral]]
|rowspan=16|inedible
|-
|[[Image:Clay_ring.png]]
|clay
|-
|[[Image:Coral_ring.png]]
|coral
|-
|[[Image:Moonstone_ring.png]]
|moonstone
|-
|[[Image:Opal_ring.png]]
|opal
|-
|[[Image:Black_onyx_ring.png]]
|black onyx
|-
|[[Image:Jade_ring.png]]
|jade
|rowspan=8|[[gemstone]]
|-
|[[Image:Agate_ring.png]]
|agate
|-
|[[Image:Topaz_ring.png]]
|topaz
|-
|[[Image:Sapphire_ring.png]]
|sapphire
|-
|[[Image:Ruby_ring.png]]
|ruby
|-
|[[Image:Diamond_ring.png]]
|diamond
|-
|[[Image:Emerald_ring.png]]
|emerald
|-
|[[Image:Tiger_eye_ring.png]]
|tiger eye
|-
|[[Image:Pearl_ring.png]]
|pearl
|rowspan=2|[[bone]]
|-
|[[Image:Ivory_ring.png]]
|ivory
|}

== Effects of eating rings ==

{|class="prettytable striped"
!Ring
!Intrinsic granted
|-
|[[ring of adornment]]
| +n [[charisma]] until unpoly
|-
|[[ring of aggravate monster]]
|[[aggravate monster]]
|-
|[[ring of cold resistance]]
|[[cold resistance]]
|-
|[[ring of conflict]]
|[[conflict]], [[hunger]]
|-
|[[ring of fire resistance]]
|[[fire resistance]]
|-
|[[ring of free action]]
|[[sleep resistance]]
|-
|[[ring of gain constitution]]
| +n [[constitution]] until unpoly
|-
|[[ring of gain strength]]
| +n [[strength]] until unpoly
|-
|[[ring of hunger]]
|[[hunger (property)|hunger]]
|-
|[[ring of increase accuracy]]
| +0–n to-hit bonus (see below)
|-
|[[ring of increase damage]]
| +0–n damage bonus (see below)
|-
|[[ring of invisibility]]
|[[invisibility]]
|-
|[[ring of levitation]]
|[[levitation]] for d10+10 (more) turns
|-
|[[ring of poison resistance]]
|[[poison resistance]]
|-
|[[ring of polymorph]]
|[[polymorphitis]]
|-
|[[ring of polymorph control]]
|[[polymorph control]]
|-
|[[ring of protection]]
| +0–n [[AC]] (see below)
|-
|[[ring of protection from shape changers]]
|[[protection from shape changers]]
|-
|[[ring of regeneration]]
|[[regeneration]], [[hunger]]
|-
|[[ring of searching]]
|[[searching]]
|-
|[[ring of see invisible]]
|[[see invisible]]
|-
|[[ring of shock resistance]]
|[[shock resistance]]
|-
|[[ring of slow digestion]]
|inedible
|-
|[[ring of stealth]]
|[[stealth]]
|-
|[[ring of sustain ability]]
|no effect
|-
|[[ring of teleport control]]
|[[teleport control]]
|-
